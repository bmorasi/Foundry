{"version":3,"file":"foundryvtt-gmScreen.js","sources":["../../src/types.ts","../../src/module/constants.ts","../../src/module/helpers.ts","../../src/module/classes/GmScreenSettingsConfig.ts","../../src/module/classes/GmScreenData.ts","../../src/module/classes/DocumentSheets/CompactRollTableSheet.ts","../../src/module/classes/GmScreenCell.ts","../../src/module/classes/GmScreenApplication.ts","../../src/module/classes/GmScreen.ts","../../src/module/foundryvtt-gmScreen.ts"],"sourcesContent":["export interface GmScreenSettingsData {\n  grids: Record<string, GmScreenGrid>; // object of all grids keyed by uuid\n  activeGridId: keyof GmScreenSettingsData['grids']; // currently visible grid's id\n}\n\nexport interface GmScreenGrid {\n  entries: Record<string, GmScreenGridEntry>; // keyed by cellId\n  id: string; // grid's uuid\n  name: string; // user configurable\n  isShared: boolean;\n  rowOverride?: number;\n  columnOverride?: number;\n}\n\nexport interface GmScreenGridEntry {\n  x: number;\n  y: number;\n  spanRows?: number;\n  spanCols?: number;\n  entityUuid?: string;\n  entryId: string;\n}\n\nexport interface GmScreenApi {\n  toggleGmScreenVisibility(isOpen?: boolean): void;\n  refreshGmScreen(): void;\n}\n\nexport enum MySettings {\n  columns = 'columns',\n  displayDrawer = 'display-as-drawer',\n  drawerHeight = 'drawer-height',\n  drawerOpacity = 'drawer-opacity',\n  drawerWidth = 'drawer-width',\n  gmScreenConfig = 'gm-screen-config',\n  migrated = 'migrated',\n  condensedButton = 'condensedButton',\n  reset = 'reset',\n  rightMargin = 'right-margin',\n  rows = 'rows',\n}\n\nexport enum MyHooks {\n  openClose = 'gmScreenOpenClose',\n  ready = 'gmScreenReady',\n}\n\nexport enum MyFlags {\n  gmScreenSheetClass = 'gmScreenSheetClass',\n}\n","export const MODULE_ID = 'gm-screen';\nexport const MODULE_ABBREV = 'GMSCR';\n\nexport const TEMPLATES = {\n  settings: `modules/${MODULE_ID}/templates/settings.hbs`,\n  screen: `modules/${MODULE_ID}/templates/screen.hbs`,\n  screenCell: `modules/${MODULE_ID}/templates/parts/screen-cell.hbs`,\n  screenGrid: `modules/${MODULE_ID}/templates/parts/screen-grid.hbs`,\n  compactRollTable: `modules/${MODULE_ID}/templates/parts/compact-roll-table.hbs`,\n  compactJournalEntry: `modules/${MODULE_ID}/templates/parts/compact-journal-entry.hbs`,\n  entitySheetInjection: `modules/${MODULE_ID}/templates/parts/entity-sheet-injection.hbs`,\n  grids: {\n    tableRow: `modules/${MODULE_ID}/templates/parts/settings-grid-config-table-row.hbs`,\n  },\n};\n\nexport enum MySettings {\n  columns = 'columns',\n  displayDrawer = 'display-as-drawer',\n  drawerHeight = 'drawer-height',\n  drawerOpacity = 'drawer-opacity',\n  drawerWidth = 'drawer-width',\n  gmScreenConfig = 'gm-screen-config',\n  migrated = 'migrated',\n  condensedButton = 'condensedButton',\n  reset = 'reset',\n  rightMargin = 'right-margin',\n  rows = 'rows',\n}\n\nexport enum MyHooks {\n  openClose = 'gmScreenOpenClose',\n  ready = 'gmScreenReady',\n}\n\nexport enum MyFlags {}\n\nexport const numberRegex = /([+-]?(?=\\.\\d|\\d)(?:\\d+)?(?:\\.?\\d*))(?:[eE]([+-]?\\d+))?/;\n","import { GmScreenGridEntry } from '../types';\nimport { GmScreen } from './classes/GmScreen';\nimport { MODULE_ABBREV, MODULE_ID } from './constants';\n\nexport function log(force: boolean, ...args: any[]) {\n  const shouldLog = force || game.modules.get('_dev-mode')?.api?.getPackageDebugValue(MODULE_ID);\n\n  if (shouldLog) {\n    console.log(MODULE_ID, '|', ...args);\n  }\n}\n\nexport const debouncedReload = foundry.utils.debounce(() => window.location.reload(), 100);\n\n/**\n * Creates a custom CSS property with the name provide on the element.style of all elements which match\n * the selector provided containing the computed value of the property specified.\n *\n * @param {JQuery<HTMLElement>} html - Some HTML element to search within for the selector\n * @param {string} selector - A CSS style selector which will be used to locate the target elements for this function.\n * @param {keyof CSSStyleDeclaration} property - The name of a CSS property to obtain the computed value of\n * @param {string} name - The name of the CSS variable (custom property) that will be created/updated.\n * @memberof GmScreenApplication\n */\nexport function updateCSSPropertyVariable(\n  html: JQuery<HTMLElement>,\n  selector: string,\n  property: keyof CSSStyleDeclaration,\n  name: string,\n) {\n  html.find(selector).each((i, gridCell) => {\n    const value = window.getComputedStyle(gridCell)[property];\n    gridCell.style.setProperty(name, String(value));\n  });\n}\n\n/**\n * Helper for getting a user's cell config inputs via a dialog\n */\nexport function getUserCellConfigurationInput(\n  cellToConfigure: GmScreenGridEntry,\n  gridDetails: {\n    rows: number;\n    columns: number;\n  },\n) {\n  return new Promise<{\n    newSpanRows: number;\n    newSpanCols: number;\n  }>((resolve, reject) => {\n    new Dialog({\n      title: game.i18n.localize(`${MODULE_ABBREV}.cellConfigDialog.CellConfig`),\n      content: `\n  <form class=\"flexcol\">\n    <div class=\"form-group\">\n      <label for=\"spanRows\">${game.i18n.localize(`${MODULE_ABBREV}.cellConfigDialog.RowSpan`)}</label>\n      <input type=\"number\" step=\"1\" name=\"spanRows\" min=\"1\" max=\"${gridDetails.rows + 1 - cellToConfigure.y}\" value=\"${\n        cellToConfigure.spanRows || 1\n      }\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"spanCols\">${game.i18n.localize(`${MODULE_ABBREV}.cellConfigDialog.ColSpan`)}</label>\n      <input type=\"number\" step=\"1\" name=\"spanCols\" min=\"1\" max=\"${\n        gridDetails.columns + 1 - cellToConfigure.x\n      }\" value=\"${cellToConfigure.spanCols || 1}\">\n    </div>\n  </form>\n`,\n      buttons: {\n        no: {\n          icon: '<i class=\"fas fa-times\"></i>',\n          label: game.i18n.localize('Cancel'),\n        },\n        reset: {\n          icon: '<i class=\"fas fa-undo\"></i>',\n          label: game.i18n.localize('Default'),\n          callback: () => {\n            const formValues = {\n              newSpanRows: 1,\n              newSpanCols: 1,\n            };\n\n            log(false, 'dialog formValues', formValues);\n\n            resolve(formValues);\n          },\n        },\n        yes: {\n          icon: '<i class=\"fas fa-check\"></i>',\n          label: game.i18n.localize('Submit'),\n          //@ts-expect-error idk\n          callback: (html: JQuery<HTMLElement>) => {\n            const formValues = {\n              newSpanRows: Number(html.find('[name=\"spanRows\"]').val()),\n              newSpanCols: Number(html.find('[name=\"spanCols\"]').val()),\n            };\n\n            log(false, 'dialog formValues', formValues);\n\n            resolve(formValues);\n          },\n        },\n      },\n      default: 'yes',\n      close: () => {\n        reject();\n      },\n    }).render(true);\n  });\n}\n","import { GmScreenSettingsData } from '../../types';\nimport { MODULE_ABBREV, MODULE_ID } from '../constants';\nimport { log } from '../helpers';\nimport { GmScreen } from './GmScreen';\n\n// we have no custom options\ntype GmScreenSettingsConfigOptions = FormApplicationOptions;\n\n// the data provided to the template should look like this\ninterface GmScreenSettingsConfigData {\n  settings: GmScreenSettingsData;\n  defaultRows: number;\n  defaultColumns: number;\n}\n\n// this application is instanciated by core with no object provided\ntype GmScreenSettingsObject = undefined;\n\nexport class GmScreenSettingsConfig extends FormApplication<\n  GmScreenSettingsConfigOptions,\n  GmScreenSettingsConfigData,\n  GmScreenSettingsObject\n> {\n  static get defaultOptions() {\n    return {\n      ...super.defaultOptions,\n      classes: ['gm-screen-config'],\n      closeOnSubmit: false,\n      height: 'auto' as const,\n      submitOnChange: false,\n      submitOnClose: false,\n      id: 'gm-screen-tabs-config',\n      template: GmScreen.TEMPLATES.settings,\n      title: game.i18n.localize(`${MODULE_ABBREV}.gridConfig.GridConfig`),\n      width: 600,\n    };\n  }\n\n  get data() {\n    return GmScreen.dataManager.gmScreenSettingsConfigData;\n  }\n\n  getData() {\n    return {\n      ...GmScreen.dataManager.gmScreenSettingsConfigData,\n    };\n  }\n\n  // TODO: Audit this?\n  _dragListeners(html: JQuery) {\n    let draggedRow: HTMLElement | undefined;\n\n    html.on('dragstart', (e) => {\n      draggedRow = e.target;\n    });\n\n    html.on('dragover', (e) => {\n      if (!draggedRow) {\n        return;\n      }\n\n      const targetRow = $(e.target).parents('tbody tr')[0];\n\n      if (!targetRow) {\n        return;\n      }\n\n      const tableRows = Array.from($(e.target).parents('tbody').children()) as HTMLElement[];\n\n      if (tableRows.indexOf(targetRow) > tableRows.indexOf(draggedRow)) {\n        targetRow.after(draggedRow);\n      } else {\n        targetRow.before(draggedRow);\n      }\n    });\n\n    html.on('dragend', (e) => {\n      draggedRow = undefined;\n    });\n  }\n\n  handleNewRowClick = async (currentTarget: JQuery) => {\n    const tbodyElement = $(this.element).find('tbody');\n\n    const newGridRowTemplateData = {\n      gridId: randomID(),\n      grid: {\n        name: '',\n        columnOverride: '',\n        rowOverride: '',\n      },\n      defaultColumns: this.data.defaultColumns,\n      defaultRows: this.data.defaultRows,\n    };\n\n    const newRow = $(await renderTemplate(GmScreen.TEMPLATES.grids.tableRow, newGridRowTemplateData));\n    // render a new row at the end of tbody\n    tbodyElement.append(newRow);\n    this.setPosition({}); // recalc height\n  };\n\n  handleDeleteRowClick = (currentTarget: JQuery) => {\n    log(false, 'delete row clicked', {\n      currentTarget,\n    });\n\n    currentTarget.closest('tr').remove();\n    this.setPosition({}); // recalc height\n  };\n\n  activateListeners(html: JQuery) {\n    super.activateListeners(html);\n\n    this._dragListeners(html);\n\n    html.on('click', 'button', (event) => {\n      const action = event.currentTarget?.dataset?.action;\n\n      switch (action) {\n        case 'add-row': {\n          this.handleNewRowClick(event.currentTarget);\n          break;\n        }\n        case 'delete-row': {\n          this.handleDeleteRowClick(event.currentTarget);\n          break;\n        }\n      }\n    });\n  }\n\n  async _updateObject(event: Event, formData: object) {\n    const dataManager = GmScreen.dataManager;\n\n    const formDataObject: Omit<GmScreenSettingsData, 'activeGridId'> = expandObject(formData);\n\n    log(false, {\n      formData,\n      formDataObject,\n    });\n\n    if (Object.keys(formDataObject).length === 0) {\n      ui.notifications?.error(game.i18n.localize(`${MODULE_ABBREV}.gridConfig.errors.empty`));\n      throw new Error('Cannot save the grid with no tabs.');\n    }\n\n    const newGridIds = Object.keys(formDataObject.grids);\n\n    // rebuild the grids object on every save\n    const newGrids = newGridIds.reduce<GmScreenSettingsData['grids']>((acc, gridId) => {\n      const grid = formDataObject.grids[gridId];\n\n      // if this grid exists already, spread the old and modify it\n      if (dataManager.grids.hasOwnProperty(gridId)) {\n        acc[gridId] = {\n          ...dataManager.grids[gridId],\n          ...grid,\n        };\n\n        return acc;\n      }\n\n      // otherwise create it\n      acc[gridId] = {\n        ...grid,\n        entries: {},\n        name: grid.name ?? '',\n        isShared: grid.isShared ?? false,\n        id: gridId,\n      };\n\n      return acc;\n    }, {});\n\n    // handle case where active tab is deleted\n    const newActiveGridId = newGridIds.includes(dataManager.activeGmGridId)\n      ? dataManager.activeGmGridId\n      : newGridIds[0];\n\n    const newGmScreenConfig: GmScreenSettingsData = {\n      grids: newGrids,\n      activeGridId: newActiveGridId,\n    };\n\n    log(true, 'setting settings', {\n      newGmScreenConfig,\n    });\n\n    await game.settings.set(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig, newGmScreenConfig);\n\n    this.close();\n  }\n}\n","import { JournalEntryData } from '@league-of-foundry-developers/foundry-vtt-types/src/foundry/common/data/module.mjs';\nimport { GmScreenGrid, GmScreenGridEntry, GmScreenSettingsData, MyHooks, MySettings } from '../../types';\nimport { MODULE_ABBREV, MODULE_ID } from '../constants';\nimport { debouncedReload, log } from '../helpers';\nimport { GmScreen } from './GmScreen';\nimport { GmScreenSettingsConfig } from './GmScreenSettingsConfig';\n\nexport const defaultGmScreenData: GmScreenSettingsData = {\n  activeGridId: 'default',\n  grids: {\n    default: {\n      name: 'Main',\n      id: 'default',\n      isShared: false,\n      entries: {},\n    },\n  },\n};\n\n/**\n * Handles getting and preparing the GM Screen data for the logged in user.\n * Refreshed via the `refresh` method, does not automatically keep up to date with settings.\n * Also provides some helper functions for setting grid-related data.\n *\n * Responsible for keeping track of the GM Screen Settings data changes to make refreshing the grid less resource heavy.\n */\nexport class GmScreenDataManager {\n  /**\n   * This class's current understanding of the GM Screen Data\n   */\n  _oldData?: GmScreenSettingsData;\n  _data: GmScreenSettingsData;\n  _gridOptions: {\n    rows: number;\n    columns: number;\n  };\n\n  constructor() {\n    this._data = game.settings.get(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig);\n    this._gridOptions = {\n      rows: game.settings.get(MODULE_ID, GmScreen.SETTINGS.rows),\n      columns: game.settings.get(MODULE_ID, GmScreen.SETTINGS.columns),\n    };\n  }\n\n  /**\n   * Cached copy of the previous grid data from settings\n   * used to tell the diff\n   */\n  // static _oldGmScreenConfig: GmScreenSettingsData;\n\n  get gmScreenSettingsConfigData() {\n    return {\n      settings: this._data,\n      defaultRows: this._gridOptions.rows,\n      defaultColumns: this._gridOptions.columns,\n    };\n  }\n\n  // static get _defaultColumns() {\n  //   return game.settings.get(MODULE_ID, GmScreen.SETTINGS.columns);\n  // }\n\n  // static get _defaultRows() {\n  //   return game.settings.get(MODULE_ID, GmScreen.SETTINGS.rows);\n  // }\n\n  /** Filters grids to ones the logged in user can see */\n  get grids() {\n    return GmScreenDataManager.getUserVisibleGridsFromSettingsData(this._data);\n  }\n\n  /** Only matters to the GM */\n  get activeGmGridId() {\n    return this._data?.activeGridId ?? defaultGmScreenData.activeGridId;\n  }\n\n  /**\n   * Helper to return the grid currently marked active\n   * Only matters for GMs\n   */\n  get activeGmGrid() {\n    return this.grids[this.activeGmGridId];\n  }\n\n  /**\n   * @returns `true` if the user has any visible grids\n   */\n  get hasUserViewableGrids() {\n    return !!Object.keys(this.grids).length;\n  }\n\n  /**\n   * @returns `true` if the user wants to use drawer mode\n   */\n  get drawerMode() {\n    return game.settings.get(MODULE_ID, GmScreen.SETTINGS.displayDrawer);\n  }\n\n  /**\n   * A helper to aggregate a few settings useful for displaying the GM Screen Application\n   */\n  get applicationData() {\n    const { SETTINGS } = GmScreen;\n    return {\n      ...this._gridOptions,\n      rightMargin: game.settings.get(MODULE_ID, SETTINGS.rightMargin),\n      drawerWidth: game.settings.get(MODULE_ID, SETTINGS.drawerWidth),\n      drawerHeight: game.settings.get(MODULE_ID, SETTINGS.drawerHeight),\n      drawerOpacity: game.settings.get(MODULE_ID, SETTINGS.drawerOpacity),\n      condensedButton: game.settings.get(MODULE_ID, SETTINGS.condensedButton),\n      displayDrawer: game.settings.get(MODULE_ID, SETTINGS.displayDrawer),\n    };\n  }\n\n  /**\n   * Gets the gridIds that were most recently updated\n   * @returns the grid ids that have changed recently\n   */\n  get diffGridIds() {\n    if (!this._oldData?.grids) {\n      return Object.keys(this._data.grids);\n    }\n\n    return Object.keys(foundry.utils.diffObject(this._oldData.grids, this._data.grids));\n  }\n\n  /**\n   * Checks if there are any newly visible or invisible grids to this user\n   * @returns true if the grids visible to this user have changed\n   */\n  get visibleGridIdsChanged() {\n    const userVisibleGridIds = new Set(Object.keys(this.grids));\n\n    // if there was no old data, all grids are new\n    if (!this._oldData) {\n      return true;\n    }\n\n    const oldUserVisibleGridIds = new Set(\n      Object.keys(GmScreenDataManager.getUserVisibleGridsFromSettingsData(this._oldData)),\n    );\n\n    return !userVisibleGridIds.equals(oldUserVisibleGridIds);\n  }\n\n  /**\n   * Populate this instance with the data from settings.\n   * Runs from the Settings registered `onChange`\n   * Re-renders the grid if necessary\n   * // should be `refreshGmScreen` from the api\n   */\n  refresh = () => {\n    this._oldData = foundry.utils.deepClone(this._data);\n\n    this._data = game.settings.get(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig);\n    this._gridOptions = {\n      rows: game.settings.get(MODULE_ID, GmScreen.SETTINGS.rows),\n      columns: game.settings.get(MODULE_ID, GmScreen.SETTINGS.columns),\n    };\n\n    log(false, 'refreshing gm screen data', {\n      newData: foundry.utils.deepClone(this._data),\n      data: foundry.utils.deepClone(this._oldData),\n      diffGridIds: this.diffGridIds,\n    });\n\n    // do nothing if there are no grid ids that changed\n    if (!this.diffGridIds) {\n      return;\n    }\n\n    // 1. see if the grids I can see are the ones that changed\n    // if this is true we need to rerender\n    const myGridsChanged = this.diffGridIds.filter((diffGridId) => Object.keys(this.grids).includes(diffGridId));\n\n    // 2. check if the gridIds I can currently see are the same as before the diff\n    // if this is true we need to rerender\n    const myVisibleGridIdsChanged = this.visibleGridIdsChanged;\n\n    // if both are false, don't re-render\n    if (!myVisibleGridIdsChanged && !myGridsChanged) {\n      log(false, 'not rerendering because none of my visible grids changed');\n      return;\n    }\n\n    // TODO: Re-render GM Screen Application?\n    // provides diffGridIds\n    GmScreen.gmScreenApp.refresh();\n  };\n\n  /**\n   * Overrides the existing Grid object in settings with the provided object\n   *\n   * Refreshes automatically on all clients because of the `onChange` callback on the setting registration\n   */\n  setGridData(newGridData: GmScreenGrid) {\n    if (!game.user?.isGM) {\n      throw new Error('You must be a GM user to edit a Grid');\n    }\n\n    const newGmScreenConfig = foundry.utils.deepClone(this._data);\n\n    const updated = setProperty(newGmScreenConfig, `grids.${newGridData.id}`, newGridData);\n\n    if (!updated) {\n      // something failed\n      throw new Error('Something went wrong trying to update the grid data.');\n    }\n\n    log(false, 'setGridData', {\n      currentConfig: this._data,\n      newGmScreenConfig,\n      updated,\n    });\n\n    // changing this setting will auto-refresh the screen\n    return game.settings.set(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig, newGmScreenConfig);\n  }\n\n  /**\n   * Sets the active GM Grid ID (i.e. the one we expect the GM to be looking at)\n   */\n  async setActiveGmGridId(newActiveGridId?: string) {\n    if (!game.user?.isGM || newActiveGridId === this.activeGmGridId || !newActiveGridId) {\n      return;\n    }\n\n    log(false, 'trying to set active grid', { newActiveGridId });\n\n    try {\n      const newGmScreenConfig = foundry.utils.deepClone(this._data);\n      newGmScreenConfig.activeGridId = newActiveGridId;\n      await game.settings.set(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig, newGmScreenConfig);\n    } catch (error) {\n      log(true, 'error setting active tab', error);\n    }\n  }\n\n  /**\n   * Gets the grid entries for a given grid as an array with empty cells populated\n   */\n  getHydratedGridEntries(grid: GmScreenGrid) {\n    const gridColumns = grid.columnOverride ?? this._gridOptions.columns;\n    const gridRows = grid.rowOverride ?? this._gridOptions.rows;\n\n    const emptyCellsNum = Number(gridColumns) * Number(gridRows) - GmScreenDataManager.getNumOccupiedCells(grid);\n    const emptyCells: Partial<GmScreenGridEntry>[] =\n      emptyCellsNum > 0 ? [...new Array(emptyCellsNum)].map(() => ({})) : [];\n\n    return [...Object.values(grid.entries), ...emptyCells];\n  }\n\n  /**\n   * Adds a new entry to the currently active grid\n   */\n  addEntryToActiveGrid(newEntry: GmScreenGridEntry) {\n    if (!game.user?.isGM) {\n      throw new Error('You must be a GM user to edit a Grid');\n    }\n\n    const newEntries = { ...this.activeGmGrid.entries };\n\n    newEntries[newEntry.entryId] = {\n      ...newEntries[newEntry.entryId],\n      ...newEntry,\n    };\n\n    const newGridData: GmScreenGrid = {\n      ...this.activeGmGrid,\n      entries: newEntries,\n    };\n\n    log(false, 'addEntryToActiveGrid', {\n      activeGmGridData: this.activeGmGrid,\n      newEntries,\n      newEntry,\n      newGridData,\n    });\n\n    return this.setGridData(newGridData);\n  }\n\n  /**\n   * Remove a given entry from the Active Grid\n   * @param {string} entryId - entry to remove from the active grid's entries\n   */\n  removeEntryFromActiveGrid(entryId: string) {\n    const clearedCell = foundry.utils.deepClone(this.activeGmGrid.entries[entryId]);\n    const shouldKeepCellLayout = clearedCell.spanCols || clearedCell.spanRows;\n\n    const newEntries = {\n      ...this.activeGmGrid.entries,\n    };\n\n    if (shouldKeepCellLayout) {\n      delete clearedCell.entityUuid;\n      newEntries[entryId] = clearedCell;\n    } else {\n      delete newEntries[entryId];\n    }\n\n    const newGridData: GmScreenGrid = {\n      ...this.activeGmGrid,\n      entries: newEntries,\n    };\n\n    // TODO: This needs to close the open entry applications(?)\n    return this.setGridData(newGridData);\n  }\n\n  /**\n   * Handles any cell overlap problems that new grid entry data might introduce\n   */\n  editCellInActiveGrid(gridEntry: GmScreenGridEntry) {\n    const newEntries = {\n      ...this.activeGmGrid.entries,\n      [gridEntry.entryId]: gridEntry,\n    };\n\n    // based on the X, Y, and Span values of `newCell` find all problematic entryIds\n    // BRITTLE if entryId's formula changes\n    const problemCoordinates = [...Array(gridEntry.spanCols).keys()]\n      .map((_, index) => {\n        const problemX = gridEntry.x + index;\n\n        return [...Array(gridEntry.spanRows).keys()].map((_, index) => {\n          const problemY = gridEntry.y + index;\n          return `${problemX}-${problemY}`; // problem cell's id\n        });\n      })\n      .flat();\n\n    log(false, {\n      problemCoordinates,\n    });\n\n    // get any overlapped cells and remove them\n    Object.values(newEntries).forEach((entry) => {\n      if (problemCoordinates.includes(entry.entryId) && entry.entryId !== gridEntry.entryId) {\n        delete newEntries[entry.entryId];\n      }\n    });\n\n    log(false, 'newEntries', newEntries);\n\n    const newGridData = {\n      ...this.activeGmGrid,\n      entries: newEntries,\n    };\n\n    return this.setGridData(newGridData);\n  }\n\n  /**\n   * Double confirms Clearing the Active Grid\n   */\n  clearActiveGrid = () => {\n    log(false, 'clearActiveGrid');\n\n    return Dialog.confirm({\n      title: game.i18n.localize(`${MODULE_ABBREV}.warnings.clearConfirm.Title`),\n      content: game.i18n.localize(`${MODULE_ABBREV}.warnings.clearConfirm.Content`),\n      yes: async () => {\n        return this.setGridData({\n          ...this.activeGmGrid,\n          entries: {},\n        });\n      },\n    });\n  };\n\n  /***********************/\n  /**  STATIC HELPERS  ***/\n  /***********************/\n\n  /**\n   * Given the set of settings data, return only the grids visible to this user\n   */\n  static getUserVisibleGridsFromSettingsData({ grids }: GmScreenSettingsData) {\n    if (!game.user) {\n      return {};\n    }\n\n    if (game.user?.isGM) {\n      return grids;\n    }\n\n    return Object.fromEntries(Object.entries(grids).filter(([_gridId, gridData]) => gridData.isShared));\n  }\n\n  /** Calulates how many cells are occupied for a given grid */\n  static getNumOccupiedCells(grid: GmScreenGrid) {\n    return Object.values(grid.entries).reduce((acc, entry) => {\n      const cellsTaken = (entry.spanCols || 1) * (entry.spanRows || 1);\n      return acc + cellsTaken;\n    }, 0);\n  }\n\n  /**\n   * Utility method to help typescript understand that these are only\n   * actors, items, journals, or rolltables\n   *\n   * @param entityUuid - relevant entityUuid\n   */\n  static async getRelevantGmScreenDocument(entityUuid: string) {\n    const relevantDocument = await fromUuid(entityUuid);\n\n    if (\n      !(\n        relevantDocument instanceof Actor ||\n        relevantDocument instanceof Item ||\n        relevantDocument instanceof JournalEntry ||\n        relevantDocument instanceof JournalEntryPage ||\n        relevantDocument instanceof RollTable\n      )\n    ) {\n      return;\n    }\n\n    return relevantDocument;\n  }\n}\n","import { GmScreen } from '../GmScreen';\n\nexport class CompactRollTableDisplay extends RollTableConfig {\n  get isEditable() {\n    return false;\n  }\n\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      template: GmScreen.TEMPLATES.compactRollTable,\n      editable: false,\n      popOut: false,\n    });\n  }\n\n  getData() {\n    const sheetData = super.getData();\n\n    if (sheetData instanceof Promise) {\n      return sheetData;\n    }\n\n    // TODO: Rolltable.Result and Results wrong\n    const enrichedResults = (sheetData.results as unknown as RollTableConfig.Data['results'][]).map(\n      (result: RollTableConfig.Data['results']) => {\n        const label = this._getLabelFromResult(result);\n        return {\n          ...result,\n          label,\n        };\n      },\n    );\n\n    return { ...sheetData, enrichedResults };\n  }\n\n  async _rollOnTable() {\n    const rollTable = this.document as RollTable;\n    await rollTable.draw();\n  }\n\n  private _getLabelFromResult(result: TableResult): string {\n    let label: string;\n\n    switch (result.type) {\n      case CONST.TABLE_RESULT_TYPES.COMPENDIUM: {\n        label = `@Compendium[${result.documentCollection}.${result.documentId}]{${result.text}}`;\n        break;\n      }\n      case CONST.TABLE_RESULT_TYPES.ENTITY: {\n        label = `@${result.documentCollection}[${result.documentId}]{${result.text}}`;\n        break;\n      }\n      default:\n        label = result.text;\n    }\n\n    return label;\n  }\n}\n","import { GmScreenGridEntry } from '../../types';\nimport { MODULE_ID } from '../constants';\nimport { getUserCellConfigurationInput, log } from '../helpers';\nimport { CompactRollTableDisplay } from './DocumentSheets/CompactRollTableSheet';\nimport { GmScreen } from './GmScreen';\nimport { GmScreenDataManager } from './GmScreenData';\n\ninterface SheetClassDefinition {\n  cls: DocumentSheet;\n  default: boolean;\n  id: string;\n  label: string;\n}\n\n/**\n * Helpers to make interacting with or rendering a given GridEntry easier\n * TODO: Should this be it's own class that is created for each cell?\n */\nexport class GmScreenCell {\n  /**\n   * Apply overrides to make this grid entry render inside the provided cellId\n   * MUTATES SheetClass\n   * BRITTLE\n   */\n  static applyGmScreenCellSheetOverrides(SheetClass: DocumentSheet, cellId: string) {\n    SheetClass.options.editable = false;\n    SheetClass.options.popOut = false;\n    //@ts-expect-error Yeah I know this isn't the best idea\n    SheetClass.cellId = cellId;\n\n    Object.defineProperty(SheetClass, 'isEditable', { value: false });\n\n    //@ts-expect-error Yeah I know this isn't the best idea\n    SheetClass._injectHTML = function (html) {\n      //@ts-expect-error I inject cellId\n      $(this.cellId).find('.gm-screen-grid-cell-title').text(this.title);\n\n      //@ts-expect-error I inject cellId\n      const gridCellContent = $(this.cellId).find('.gm-screen-grid-cell-content');\n\n      log(false, 'CompactEntitySheet overwritten _injectHTML', {\n        targetElement: gridCellContent,\n        gridCellContent,\n        //@ts-expect-error I inject cellId\n        cellId: this.cellId,\n        html,\n      });\n      gridCellContent.append(html);\n      //@ts-expect-error Yeah I know this isn't the best idea\n      this._element = html;\n    };\n\n    //@ts-expect-error Yeah I know this isn't the best idea\n    SheetClass._replaceHTML = function (element, html, options) {\n      //@ts-expect-error I inject cellId\n      $(this.cellId).find('.gm-screen-grid-cell-title').text(this.title);\n\n      //@ts-expect-error I inject cellId\n      const gridCellContent = $(this.cellId).find('.gm-screen-grid-cell-content');\n      gridCellContent.html(html);\n      //@ts-expect-error Yeah I know this isn't the best idea\n      this._element = html;\n    };\n  }\n\n  /**\n   * Obtain the FormApplication class constructor which should be used to display this Document in the Gm Screen.\n   * Adapted from `ClientDocumentMixin._getSheetClass`\n   */\n  static _getGridEntrySheetClass(document: Actor | Item | JournalEntry | RollTable) {\n    const cfg = CONFIG[document.documentName];\n\n    // @ts-expect-error 'type' is expected to be undefined sometimes\n    // this document's type (or \"base\")\n    const type: string = document.type || CONST.BASE_DOCUMENT_TYPE;\n\n    // @ts-expect-error 'sheetClasses' is expected to exist\n    // this document type's sheet definitions\n    const documentTypeSheets: Record<string, SheetClassDefinition> = cfg.sheetClasses[type] || {};\n\n    const gmScreenOverride = document.getFlag(MODULE_ID, GmScreen.FLAGS.gmScreenSheetClass) as string;\n\n    const coreOverride = document.getFlag('core', 'sheetClass') as string;\n\n    // if there's a gm screen override defined, use that\n    if (documentTypeSheets[gmScreenOverride]) return documentTypeSheets[gmScreenOverride].cls;\n\n    // if there's a core override defined, use that\n    if (documentTypeSheets[coreOverride]) return documentTypeSheets[coreOverride].cls;\n\n    // all of the sheet class definitions for this document's type\n    const possibleSheetDefinitions = Object.values(documentTypeSheets);\n    if (!possibleSheetDefinitions.length) return null;\n\n    // TODO: Add \"GM Screen Default Sheet Class\"\n\n    const coreDefaultSheetClass = (possibleSheetDefinitions.find((s) => s.default) ?? possibleSheetDefinitions.pop())\n      ?.cls;\n\n    // I have no idea how to incorporate this into the sheet enum in a nice way\n    if (document instanceof RollTable) {\n      return CompactRollTableDisplay;\n    }\n\n    return coreDefaultSheetClass;\n  }\n\n  /**\n   * Gets user inputs about how a cell should change (row and column span)\n   * submits that as an edit\n   */\n  static async _onConfigureGridEntry({ x, y }: { x: number; y: number }, entryId?: string) {\n    try {\n      let entryToConfigure: GmScreenGridEntry = {\n        x,\n        y,\n        entryId: `${x}-${y}`,\n      };\n\n      if (entryId) {\n        entryToConfigure = GmScreen.dataManager.activeGmGrid.entries[entryId];\n      }\n\n      log(false, 'configureCell cellToConfigure', entryToConfigure);\n\n      const { newSpanRows, newSpanCols } = await getUserCellConfigurationInput(entryToConfigure, {\n        rows: GmScreen.dataManager.activeGmGrid.rowOverride ?? GmScreen.dataManager.applicationData.rows,\n        columns: GmScreen.dataManager.activeGmGrid.columnOverride ?? GmScreen.dataManager.applicationData.columns,\n      });\n\n      log(false, 'new span values from dialog', {\n        newSpanRows,\n        newSpanCols,\n      });\n\n      const newEntry = {\n        ...entryToConfigure,\n        spanRows: newSpanRows,\n        spanCols: newSpanCols,\n      };\n\n      return GmScreen.dataManager.editCellInActiveGrid(newEntry);\n    } catch (e) {\n      log(false, 'User exited configure cell Dialog.');\n    }\n  }\n\n  /**\n   * Handle \"open\" clicks to render the original document's sheet normally\n   */\n  static async _onClickOpen(entityUuid?: string) {\n    if (!entityUuid) {\n      return;\n    }\n\n    try {\n      const relevantDocument = await GmScreenDataManager.getRelevantGmScreenDocument(entityUuid);\n      const relevantDocumentSheet = relevantDocument?.sheet;\n      log(false, 'trying to edit entity', { relevantEntitySheet: relevantDocumentSheet });\n\n      if (!relevantDocumentSheet) {\n        return;\n      }\n\n      // If the sheet is already rendered:\n      if (relevantDocumentSheet.rendered) {\n        relevantDocumentSheet.bringToTop();\n        return relevantDocumentSheet.maximize();\n      }\n\n      // Otherwise render the relevantDocumentSheet\n      else relevantDocumentSheet.render(true);\n    } catch (error) {\n      log(true, 'error opening entity sheet', error);\n    }\n  }\n}\n","import { GmScreenGridEntry } from '../../types';\nimport { MODULE_ABBREV, MODULE_ID } from '../constants';\nimport { log, updateCSSPropertyVariable } from '../helpers';\nimport { GmScreenCell } from './GmScreenCell';\nimport { GmScreen } from './GmScreen';\nimport { GmScreenDataManager } from './GmScreenData';\nimport { GmScreenSettingsConfig } from './GmScreenSettingsConfig';\nimport { CompactRollTableDisplay } from './DocumentSheets/CompactRollTableSheet';\n\nenum ClickAction {\n  'clearGrid' = 'clearGrid',\n  'refresh' = 'refresh',\n  'clearCell' = 'clearCell',\n  'configureCell' = 'configureCell',\n  'open' = 'open',\n  'toggle-gm-screen' = 'toggle-gm-screen',\n  'setActiveGridId' = 'setActiveGridId',\n  'rolltable' = 'rolltable',\n  'rolltable-reset' = 'rolltable-reset',\n}\n\ntype GmScreenApp = ActorSheet | ItemSheet | JournalSheet | RollTableConfig;\n\n/**\n * @abstract\n */\nexport class GmScreenApplicationCommon extends Application {\n  /** Cache of applications rendered within this gm screen */\n  apps: Record<string, GmScreenApp>;\n  draggedTab: HTMLElement | undefined;\n\n  constructor(options = {}) {\n    super(options);\n    this.apps = {};\n  }\n\n  /** Configures the ScrollY, GM Drag/Drop, and Tabs for all use cases */\n  static get defaultOptions(): ApplicationOptions {\n    const {\n      grids,\n      activeGmGridId,\n      applicationData: { columns, rows },\n    } = GmScreen.dataManager;\n\n    // set all of the cells of all the grids to be scrollY managed\n    const scrollY = Object.keys(grids).reduce((acc, gridKey) => {\n      const gridColumns = grids[gridKey].columnOverride ?? columns;\n      const gridRows = grids[gridKey].rowOverride ?? rows;\n\n      const totalCells = Number(gridColumns) * Number(gridRows);\n\n      const gridKeyScrollY = [...new Array(totalCells)].map(\n        (_, index) => `#gm-screen-${gridKey}-cell-${index} .gm-screen-grid-cell-content`,\n      );\n      return acc.concat(gridKeyScrollY);\n    }, [] as string[]);\n\n    return {\n      ...super.defaultOptions,\n      ...(game.user?.isGM\n        ? {\n            dragDrop: [{ dropSelector: '.gm-screen-grid-cell' }],\n          }\n        : undefined),\n      tabs: [\n        {\n          navSelector: '.gm-screen-tabs',\n          contentSelector: '.gm-screen-app',\n          initial: activeGmGridId,\n        },\n      ],\n      template: GmScreen.TEMPLATES.screen,\n      id: 'gm-screen-app',\n      scrollY,\n    };\n  }\n\n  /**\n   * This currently thinly wraps `this.render`, but might be more complicated in the future.\n   */\n  refresh() {\n    this.render();\n  }\n\n  /**\n   * Hydrates all visible grids with empty cells in the format the handlebars files wants to display\n   */\n  get hydratedGridEntries() {\n    const grids = GmScreen.dataManager.grids;\n\n    return Object.fromEntries(\n      Object.entries(grids).map(([gridId, gridData]) => {\n        return [\n          gridId,\n          {\n            ...gridData,\n            gridEntries: GmScreen.dataManager.getHydratedGridEntries(gridData),\n          },\n        ];\n      }),\n    );\n  }\n\n  /**\n   * @override\n   */\n  getData() {\n    const { applicationData, hasUserViewableGrids } = GmScreen.dataManager;\n\n    const newAppData = {\n      ...super.getData(),\n      ...applicationData,\n      grids: this.hydratedGridEntries,\n      isGM: !!game.user?.isGM,\n      hidden: !hasUserViewableGrids,\n      drawerMode: GmScreen.dataManager.drawerMode,\n    };\n\n    log(false, 'getData', {\n      newAppData,\n    });\n\n    return newAppData;\n  }\n\n  /**\n   * Handles actually rendering the application, we want to inject our cells\n   * at the end of this method\n   * @override\n   */\n  async _render(...args: any[]) {\n    const promise = await super._render(...args);\n\n    // stop here if there's no user-viewable grids\n    if (!GmScreen.dataManager.hasUserViewableGrids) {\n      return promise;\n    }\n\n    const html = this.element;\n    // add our cell contents to the template now that our application is done rendering\n    this.injectCellContents(html);\n\n    // update a few attributes in the rendered html\n    const vanillaGridElement = document.querySelector('.gm-screen-grid');\n    if (!vanillaGridElement) {\n      return;\n    }\n    const vanillaGridElementStyles = getComputedStyle(vanillaGridElement);\n    const cols = vanillaGridElementStyles.gridTemplateColumns.split(' ');\n    const colWidth = cols[0];\n\n    $(html)\n      .find('.gm-screen-grid')\n      .each((i, gridElement) => {\n        gridElement.style.setProperty('--grid-cell-width', colWidth);\n      });\n\n    // enforce calculated width per cell. this requires a refresh after window dimension changes, though\n    const numericColWidth: number = +colWidth.replace('px', '');\n    $(html)\n      .find('.gm-screen-grid-cell')\n      .each((i, gridElement) => {\n        const columnSpanCount: number = +gridElement.style.getPropertyValue('--column-span-count');\n        const gridElementWidth = numericColWidth * columnSpanCount;\n        gridElement.style.setProperty('width', gridElementWidth.toString() + 'px');\n      });\n\n    return promise;\n  }\n\n  /**\n   * @override\n   */\n  activateListeners(html: JQuery<HTMLElement>) {\n    super.activateListeners(html);\n\n    if (game.user?.isGM) {\n      this._reorderDragDropListeners(html);\n    }\n\n    $('.gm-screen-button').on('contextmenu', () => {\n      const config = new GmScreenSettingsConfig();\n      config.render(true);\n    });\n\n    $(html).on('click', 'button', this.handleClickEvent.bind(this));\n    $(html).on('click', 'a', this.handleClickEvent.bind(this));\n  }\n\n  /**\n   * Handles the ability to re-order tabs if the user is the GM\n   */\n  _reorderDragDropListeners(html: JQuery<any>) {\n    let draggedTab: HTMLElement | undefined;\n    const tabElement = html.find('.gm-screen-tabs');\n\n    tabElement.on('dragstart', '.item', (e) => {\n      draggedTab = e.target;\n    });\n\n    tabElement.on('dragover', (e) => {\n      if (!draggedTab) {\n        return;\n      }\n\n      const children = Array.from($(e.target).closest('.gm-screen-tabs').children());\n\n      if (children.indexOf(e.target) > children.indexOf(draggedTab)) {\n        e.target.after(draggedTab);\n      } else {\n        e.target.before(draggedTab);\n      }\n    });\n\n    tabElement.on('dragend', async (e) => {\n      if (!draggedTab) {\n        return;\n      }\n\n      const newGrids = foundry.utils.deepClone(GmScreen.dataManager.grids);\n\n      // rebuild gmScreenConfig based on the current layout of the tabs\n      $(e.target)\n        .closest('.gm-screen-tabs')\n        .children()\n        .each((index, item) => {\n          const gridId = $(item).attr('data-tab');\n          if (!gridId) {\n            return;\n          }\n          newGrids[gridId] = GmScreen.dataManager.grids[gridId];\n        });\n\n      draggedTab = undefined;\n      await game.settings.set(MODULE_ID, GmScreen.SETTINGS.gmScreenConfig, {\n        activeGridId: GmScreen.dataManager.activeGmGridId,\n        grids: newGrids,\n      });\n    });\n  }\n\n  /**\n   * Handles Common Mouse Events for all types of gm screen\n   */\n  async handleClickEvent(e: JQuery.ClickEvent<HTMLElement, undefined, HTMLElement, HTMLElement>) {\n    e.preventDefault();\n\n    const action = e.currentTarget.dataset.action as ClickAction;\n    const entityUuid: string | undefined = $(e.currentTarget).parents('[data-entity-uuid]')?.data()?.entityUuid;\n    const entryId: string | undefined = $(e.currentTarget).parents('[data-entry-id]')?.data()?.entryId;\n\n    log(false, 'handleClickEvent', {\n      e,\n      action,\n    });\n\n    switch (action) {\n      case ClickAction.clearCell: {\n        if (!entryId) {\n          return;\n        }\n\n        GmScreen.dataManager.removeEntryFromActiveGrid(entryId);\n        break;\n      }\n      case ClickAction.configureCell: {\n        const coordinates = GmScreenApplicationCommon.getGridElementsPosition($(e.target).parent());\n        GmScreenCell._onConfigureGridEntry(coordinates, entryId);\n        break;\n      }\n      case ClickAction.open: {\n        GmScreenCell._onClickOpen(entityUuid);\n        break;\n      }\n      case ClickAction.setActiveGridId: {\n        const newActiveGridId = e.currentTarget.dataset.tab;\n        await GmScreen.dataManager.setActiveGmGridId(newActiveGridId);\n        // this.refresh();\n        break;\n      }\n      case ClickAction.rolltable: {\n        if (!entityUuid || !entryId) {\n          break;\n        }\n        const cellClassInstance = (await this.getCellApplicationClass(entityUuid, entryId)) as CompactRollTableDisplay;\n        await cellClassInstance._rollOnTable();\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  _canDragDrop(): boolean {\n    return !!game.user?.isGM;\n  }\n\n  /**\n   * Handles the dropping of a document onto a grid cell\n   * @override\n   */\n  _onDrop(event: DragEvent): void {\n    event.stopPropagation();\n\n    // do nothing if this user is not the gm\n    if (!game.user?.isGM) return;\n\n    // type safety checks\n    if (!event.currentTarget || !event.target || !event.dataTransfer) return;\n\n    // Try to extract the data\n    let data;\n    try {\n      data = JSON.parse(event.dataTransfer.getData('text/plain'));\n    } catch (err) {\n      return;\n    }\n\n    log(false, 'onDrop', {\n      event,\n      data,\n      closestGridCell: $(event.currentTarget).closest('.gm-screen-grid-cell'),\n    });\n\n    // only move forward if dropped entry is of a supported type\n    if (!['JournalEntry', 'JournalEntryPage', 'RollTable', 'Item', 'Actor'].includes(data.type)) {\n      return;\n    }\n\n    const entityUuid = data.uuid;\n\n    const gridElementPosition = GmScreenApplicationCommon.getGridElementsPosition(\n      $(event.target).closest('.gm-screen-grid-cell'),\n    );\n    const newEntryId = `${gridElementPosition.x}-${gridElementPosition.y}`;\n\n    const newEntry: GmScreenGridEntry = {\n      ...gridElementPosition,\n      entryId: newEntryId,\n      entityUuid,\n    };\n\n    GmScreen.dataManager.addEntryToActiveGrid(newEntry);\n  }\n\n  /**\n   * Injects cell applications during _renderInner;\n   * Handles finding all cells in the html and injecting their rightful contents based on\n   * data attributes which detail the uuid of the document within\n   */\n  injectCellContents(html: JQuery<HTMLElement>) {\n    const allCells = $(html).find('[data-entity-uuid]');\n\n    log(false, 'injectCellContents', allCells);\n\n    allCells.each((index, gridEntry) => {\n      try {\n        // `this` is the parent .gm-screen-grid-cell\n        const relevantUuid = gridEntry.dataset.entityUuid;\n        if (!relevantUuid) {\n          return;\n        }\n        const cellId = `#${gridEntry.id}`;\n\n        log(false, 'gridEntry with uuid defined found', { relevantUuid, cellId, gridEntry });\n\n        this.getCellApplicationClass(relevantUuid, cellId)\n          .then((application) => {\n            log(false, `got application for \"${cellId}\"`, {\n              application,\n            });\n\n            if (!application) {\n              throw new Error('no application exists to render');\n            }\n\n            const classes = application.options.classes.join(' ');\n\n            const gridCellContent = $(gridEntry).find('.gm-screen-grid-cell-content');\n            gridCellContent.addClass(classes);\n\n            // actually render the application\n            application.render(true);\n          })\n          .catch((e) => {\n            log(true, 'error trying to render a gridEntry', {\n              gridEntry,\n              cellId,\n              relevantUuid,\n              error: e,\n            });\n          });\n      } catch (e) {\n        log(false, 'erroring', e, {\n          gridEntry,\n        });\n      }\n    });\n\n    updateCSSPropertyVariable(html, '.gm-screen-grid-cell', 'width', '--this-cell-width');\n\n    return html;\n  }\n\n  /**\n   * create and cache the custom Application when we need to during GmScreenApplication.render();\n   * and then use that cached Application instance to render\n   *\n   * @param documentUuid - Identifier for the Entity in the cell\n   * @param cellId - Identifier for the Cell\n   * @param gridCellContentElement - the element to inject into\n   * @returns the instance of the document's sheet to render\n   */\n  async getCellApplicationClass(documentUuid: string, cellId: string) {\n    const relevantDocument = await GmScreenDataManager.getRelevantGmScreenDocument(documentUuid);\n\n    // if the document does not exist, 'close' the application and destroy the cached copy\n    if (!relevantDocument) {\n      await this.apps[cellId]?.close();\n      delete this.apps[cellId];\n\n      console.warn(\n        'One of the grid cells tried to render a document that does not exist. Perhaps it was deleted or is in a compendium module that is not active?',\n        documentUuid,\n      );\n      return;\n    }\n\n    /* If there is an old app in this cell which does not belong to this document, 'close' that application and destroy its cache entry */\n    if (this.apps[cellId] && this.apps[cellId]?.object.uuid !== documentUuid) {\n      await this.apps[cellId].close();\n      delete this.apps[cellId];\n    }\n\n    // gets the relevant document's GM Screen Sheet class constructor based on any present overrides\n    const SheetClassConstructor = (GmScreenCell._getGridEntrySheetClass(relevantDocument) ??\n      relevantDocument.sheet?.constructor) as ConstructorOf<DocumentSheet> | undefined;\n\n    /* If the currently cached application does not match the sheet class, 'close' that application and destroy its cache entry */\n    if (this.apps[cellId] && this.apps[cellId].constructor.name !== SheetClassConstructor?.name) {\n      await this.apps[cellId].close();\n      delete this.apps[cellId];\n    }\n\n    /* If the currently cached application does match the expected sheet class, return it */\n    if (this.apps[cellId] && this.apps[cellId].constructor.name === SheetClassConstructor?.name) {\n      log(false, `using cached application instance for \"${relevantDocument.name}\"`, {\n        entityUuid: documentUuid,\n        app: this.apps[cellId],\n      });\n\n      return this.apps[cellId];\n    }\n\n    /** Otherwise, we need to make a new instance of the sheet class retrieved */\n    log(false, 'relevantEntity sheet', {\n      sheetClassConstructor: SheetClassConstructor,\n      name: SheetClassConstructor?.name,\n    });\n\n    if (!SheetClassConstructor) {\n      throw new Error('Could not create cell application as the constructor does not exist');\n    }\n\n    // // TODO: FIXME in _getGmScreenSheetClass\n    // if (SheetClassConstructor.name === 'RollTableConfig') {\n    //   log(false, `creating compact rollTableDisplay for \"${relevantDocument.name}\"`, {\n    //     cellId,\n    //   });\n\n    //   this.apps[cellId] = new CompactRollTableDisplay(relevantDocument, { cellId });\n    //   return this.apps[cellId];\n    // }\n\n    log(false, `creating compact generic for \"${relevantDocument.name}\"`, {\n      cellId,\n    });\n\n    const CompactDocumentSheet = new SheetClassConstructor(relevantDocument, {\n      editable: false,\n    }) as GmScreenApp;\n\n    // apply all the right overrides to the sheet class so it renders inside the grid\n    GmScreenCell.applyGmScreenCellSheetOverrides(CompactDocumentSheet, cellId);\n\n    log(false, `created compact generic for \"${relevantDocument.name}\"`, {\n      sheet: CompactDocumentSheet,\n    });\n\n    this.apps[cellId] = CompactDocumentSheet;\n\n    return this.apps[cellId];\n  }\n\n  toggleGmScreenVisibility() {\n    throw new Error('Each GM Screen subclass must implemement this method');\n  }\n\n  /**\n   * Gets the given element's X/Y coordinates in the grid\n   */\n  static getGridElementsPosition(element: JQuery<any>) {\n    const relevantGridElement = element.parents('.gm-screen-grid')[0];\n\n    const vanillaGridElementStyles = window.getComputedStyle(relevantGridElement);\n\n    log(false, 'getGridElementsPosition', {\n      element,\n      relevantGridElement,\n      vanillaGridElementStyles,\n      gap: vanillaGridElementStyles.gap, // wtf this is '' in firefox\n      gridRowGap: vanillaGridElementStyles.rowGap,\n      gridColGap: vanillaGridElementStyles.columnGap,\n    });\n\n    const numberRegex = /([+-]?(?=\\.\\d|\\d)(?:\\d+)?(?:\\.?\\d*))(?:[eE]([+-]?\\d+))?/;\n    const gap = Number(vanillaGridElementStyles.rowGap.match(numberRegex)?.[0]);\n\n    //Get the css attribute grid-template-columns from the css of class grid\n    //split on whitespace and get the length, this will give you the column dimensions\n    const cols = vanillaGridElementStyles.gridTemplateColumns.split(' ');\n    const colWidth = Number(cols[0].match(numberRegex)?.[0]);\n\n    //Get the css attribute grid-template-rows from the css of class grid\n    //split on whitespace and get the length, this will give you the column dimensions\n    const rows = vanillaGridElementStyles.gridTemplateRows.split(' ');\n    const rowHeight = Number(rows[0].match(numberRegex)?.[0]);\n\n    // to figure out which column/row this element is in within the gridElement, we have to do math\n    const elementBounds = element[0].getBoundingClientRect();\n    const gridBounds = relevantGridElement.getBoundingClientRect();\n\n    const elementColumn = Math.floor((elementBounds.left - (gridBounds.left - gap)) / (colWidth + gap)) + 1;\n\n    const elementRow = Math.floor((elementBounds.top - (gridBounds.top - gap)) / (rowHeight + gap)) + 1;\n\n    log(false, 'getGridElementsPosition', {\n      setup: {\n        gap,\n        cols,\n        rows,\n        elementBounds,\n        gridBounds,\n        colWidth,\n        rowHeight,\n      },\n      results: {\n        elementColumn,\n        elementRow,\n      },\n    });\n    //Return an object with properties row and column\n    return { y: elementRow, x: elementColumn };\n  }\n}\n\n/** Extends the base GM Screen Application for the Popout Case */\nexport class GmScreenApplicationPopout extends GmScreenApplicationCommon {\n  static get defaultOptions(): ApplicationOptions {\n    const { columns, rows } = GmScreen.dataManager.applicationData;\n\n    return {\n      ...super.defaultOptions,\n      classes: ['gm-screen-popOut'],\n      popOut: true,\n      width: Number(columns) * 400,\n      height: Number(rows) * 300,\n      resizable: true,\n      title: game.i18n.localize(`${MODULE_ABBREV}.gmScreen.Title`),\n    };\n  }\n\n  /** Handle toggling gm screens */\n  toggleGmScreenVisibility(shouldOpen = !this.rendered) {\n    if (shouldOpen) {\n      if (!this.rendered) {\n        this.render(true);\n      } else {\n        this.bringToTop();\n      }\n    }\n\n    if (!shouldOpen) {\n      this.close();\n    }\n\n    // on open, call MyHooks.openClose with isOpen: true and the active grid details\n    Hooks.callAll(GmScreen.HOOKS.openClose, this, {\n      isOpen: this.rendered,\n      activeGridId: GmScreen.dataManager.activeGmGridId,\n      activeGridName: GmScreen.dataManager.activeGmGrid?.name,\n    });\n  }\n\n  /**\n   * @override\n   */\n  _getHeaderButtons() {\n    const superButtons = super._getHeaderButtons();\n\n    const gmButtons = [\n      {\n        label: game.i18n.localize(`${MODULE_ABBREV}.gmScreen.Reset`),\n        class: 'clear',\n        icon: 'fas fa-ban',\n        onclick: () => GmScreen.dataManager.clearActiveGrid(), // TODO: `this.apps = {};` ?\n      },\n    ];\n\n    return [\n      ...(game.user?.isGM ? gmButtons : []),\n      {\n        label: game.i18n.localize(`${MODULE_ABBREV}.gmScreen.Refresh`),\n        class: 'refresh',\n        icon: 'fas fa-sync',\n        onclick: () => GmScreen.dataManager.refresh.bind(this)(),\n      },\n      ...superButtons,\n    ];\n  }\n}\n\n/** Extends the base GM Screen Application for the Drawer Case */\nexport class GmScreenApplicationDrawer extends GmScreenApplicationCommon {\n  expanded = false;\n\n  static get defaultOptions(): ApplicationOptions {\n    return {\n      ...super.defaultOptions,\n      popOut: false,\n    };\n  }\n\n  getData() {\n    return {\n      ...super.getData(),\n      expanded: this.expanded,\n    };\n  }\n\n  // TODO ??? Still needed ???\n  activateListeners(html: any): void {\n    super.activateListeners(html);\n\n    // bring to top on click\n    $(html).on('mousedown', (event) => {\n      log(false, 'buttons', event.buttons);\n      if (event.buttons === 2) {\n        return;\n      }\n      this.bringToTop();\n    });\n  }\n\n  /**\n   * Set the GM Screen Visibility. By default will toggle the current state.\n   * @param {boolean} expanded\n   */\n  toggleGmScreenVisibility(expanded = !this.expanded) {\n    // TODO: Allow toggling open to a specific tab\n    // TODO: Provide API for other modules to know what tabs exist\n    this.expanded = expanded;\n\n    const activeGridDetails = {\n      activeGridId: GmScreen.dataManager.activeGmGridId,\n      activeGridName: GmScreen.dataManager.activeGmGrid?.name,\n    };\n\n    if (this.expanded) {\n      ui.windows[this.appId] = this; // add our window to the stack, pretending we are an open Application\n\n      this.bringToTop();\n\n      $('.gm-screen-app').addClass('expanded');\n\n      // on open, call MyHooks.openClose with isOpen: true and the active grid details\n      Hooks.callAll(GmScreen.HOOKS.openClose, this, {\n        isOpen: true,\n        ...activeGridDetails,\n      });\n    } else {\n      $('.gm-screen-app').removeClass('expanded');\n      delete ui.windows[this.appId]; // remove our window to the stack, pretending we are a closed Application\n\n      // on open, call MyHooks.openClose with isOpen: false and the active grid details\n      Hooks.callAll(GmScreen.HOOKS.openClose, this, {\n        isOpen: false,\n        ...activeGridDetails,\n      });\n    }\n  }\n\n  async handleClickEvent(e: JQuery.ClickEvent<HTMLElement, undefined, HTMLElement, HTMLElement>) {\n    super.handleClickEvent(e);\n\n    const action = e.currentTarget.dataset.action as ClickAction;\n    switch (action) {\n      case ClickAction.clearGrid: {\n        GmScreen.dataManager.clearActiveGrid();\n        break;\n      }\n      case ClickAction.refresh: {\n        GmScreen.dataManager.refresh();\n        break;\n      }\n      case ClickAction['toggle-gm-screen']: {\n        try {\n          this.toggleGmScreenVisibility();\n        } catch (error) {\n          log(true, 'error toggling GM Screen', error);\n        }\n        break;\n      }\n    }\n  }\n}\n","import { GmScreenApi, GmScreenSettingsData, MyFlags, MyHooks, MySettings } from '../../types';\nimport { debouncedReload, log } from '../helpers';\nimport { GmScreenSettingsConfig } from './GmScreenSettingsConfig';\nimport { defaultGmScreenData, GmScreenDataManager } from './GmScreenData';\nimport { GmScreenApplicationCommon, GmScreenApplicationDrawer, GmScreenApplicationPopout } from './GmScreenApplication';\nimport { MODULE_ID, MODULE_ABBREV } from '../constants';\n\nexport class GmScreen {\n  static _dataManager?: GmScreenDataManager;\n  static _gmScreenApp?: GmScreenApplicationCommon;\n\n  static TEMPLATES = {\n    settings: `modules/${MODULE_ID}/templates/settings.hbs`,\n    screen: `modules/${MODULE_ID}/templates/screen.hbs`,\n    screenCell: `modules/${MODULE_ID}/templates/parts/screen-cell.hbs`,\n    screenGrid: `modules/${MODULE_ID}/templates/parts/screen-grid.hbs`,\n    compactRollTable: `modules/${MODULE_ID}/templates/parts/compact-roll-table.hbs`,\n    compactJournalEntry: `modules/${MODULE_ID}/templates/parts/compact-journal-entry.hbs`,\n    entitySheetInjection: `modules/${MODULE_ID}/templates/parts/entity-sheet-injection.hbs`,\n    grids: {\n      tableRow: `modules/${MODULE_ID}/templates/parts/settings-grid-config-table-row.hbs`,\n    },\n  };\n\n  static HOOKS = MyHooks;\n\n  static SETTINGS = MySettings;\n\n  static FLAGS = MyFlags;\n\n  /**\n   * handle the init hook\n   * Register all settings needed for GM Screen Initialization\n   * */\n  static init() {\n    this.registerSettings();\n    this.preloadTemplates();\n  }\n\n  /**\n   * Handle Ready hook\n   * Render the drawer mode screen\n   * put the module api into the moduledata\n   */\n  static ready() {\n    // Do anything once the module is ready\n    if (this.dataManager.drawerMode) {\n      log(false, 'readying', { drawerMode: this.dataManager.drawerMode, app: this.gmScreenApp });\n      this.gmScreenApp.render(true);\n    }\n\n    const gmScreenModuleData = game.modules.get(MODULE_ID);\n\n    if (gmScreenModuleData) {\n      gmScreenModuleData.api = this.gmScreenApi;\n    }\n\n    if (game.user?.isGM) {\n      game.settings.set(MODULE_ID, this.SETTINGS.reset, false);\n    }\n    Hooks.callAll(this.HOOKS.ready);\n  }\n\n  /**\n   * Get or Create a new instance of GmScreenDataManager and cache it\n   */\n  static get dataManager() {\n    if (!this._dataManager) {\n      this._dataManager = new GmScreenDataManager();\n    }\n\n    return this._dataManager;\n  }\n\n  /**\n   * Get or Create a new instance of GmScreenDataManager and cache it\n   */\n  static get gmScreenApp() {\n    // TOOD: Is this the best play with a drawer-mode setting that can change?\n    if (!this._gmScreenApp) {\n      this._gmScreenApp = this.dataManager.drawerMode\n        ? new GmScreenApplicationDrawer()\n        : new GmScreenApplicationPopout();\n    }\n\n    return this._gmScreenApp;\n  }\n\n  /**\n   * Get the public api for the gm screen\n   */\n  static get gmScreenApi(): GmScreenApi {\n    return {\n      toggleGmScreenVisibility: this.gmScreenApp.toggleGmScreenVisibility,\n      refreshGmScreen: this.dataManager.refresh,\n    };\n  }\n\n  /** Asynchronously preload templates */\n  static async preloadTemplates() {\n    return loadTemplates(Object.values(flattenObject(this.TEMPLATES)));\n  }\n\n  /** Register all settings needed for GM Screen Initialization */\n  static registerSettings() {\n    game.settings.registerMenu(MODULE_ID, 'menu', {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.gmScreenConfig}.Name`,\n      label: `${MODULE_ABBREV}.settings.${this.SETTINGS.gmScreenConfig}.Label`,\n      icon: 'fas fa-table',\n      type: GmScreenSettingsConfig,\n      restricted: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.gmScreenConfig}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.gmScreenConfig, {\n      default: defaultGmScreenData,\n      type: defaultGmScreenData.constructor as ConstructorOf<GmScreenSettingsData>,\n      scope: 'world',\n      config: false,\n      onChange: () => {\n        game.modules.get(MODULE_ID)?.api?.refreshGmScreen();\n      },\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.migrated, {\n      config: false,\n      default: { status: false, version: '1.2.2' },\n      scope: 'world',\n      type: Object as unknown as ConstructorOf<{ status: boolean; version: string }>,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.columns, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.columns}.Name`,\n      default: 4,\n      type: Number,\n      scope: 'world',\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.columns}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.rows, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.rows}.Name`,\n      default: 3,\n      type: Number,\n      scope: 'world',\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.rows}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.displayDrawer, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.displayDrawer}.Name`,\n      default: true,\n      type: Boolean,\n      scope: 'client',\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.displayDrawer}.Hint`,\n      onChange: debouncedReload,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.rightMargin, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.rightMargin}.Name`,\n      default: 0,\n      type: Number,\n      scope: 'client',\n      range: { min: 0, max: 75, step: 5 },\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.rightMargin}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.drawerWidth, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerWidth}.Name`,\n      default: 100,\n      type: Number,\n      scope: 'client',\n      range: { min: 25, max: 100, step: 1 },\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerWidth}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.drawerHeight, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerHeight}.Name`,\n      default: 60,\n      type: Number,\n      scope: 'client',\n      range: { min: 10, max: 90, step: 1 },\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerHeight}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.drawerOpacity, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerOpacity}.Name`,\n      default: 1,\n      type: Number,\n      scope: 'client',\n      range: { min: 0.1, max: 1, step: 0.05 },\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.drawerOpacity}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.condensedButton, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.condensedButton}.Name`,\n      default: false,\n      type: Boolean,\n      scope: 'client',\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.condensedButton}.Hint`,\n    });\n\n    game.settings.register(MODULE_ID, this.SETTINGS.reset, {\n      name: `${MODULE_ABBREV}.settings.${this.SETTINGS.reset}.Name`,\n      default: false,\n      type: Boolean,\n      scope: 'world',\n      config: true,\n      hint: `${MODULE_ABBREV}.settings.${this.SETTINGS.reset}.Hint`,\n      onChange: (selected) => {\n        if (selected) {\n          game.settings.set(MODULE_ID, this.SETTINGS.gmScreenConfig, defaultGmScreenData);\n        }\n      },\n    });\n  }\n}\n","import { GmScreen } from './classes/GmScreen';\nimport { MODULE_ABBREV, MODULE_ID } from './constants';\nimport { log } from './helpers';\n\n// Initialize module\nHooks.once('init', async () => {\n  console.log('gm-screen | Initializing GM Screen');\n\n  GmScreen.init();\n});\n\n// When ready\nHooks.once('ready', async () => {\n  GmScreen.ready();\n});\n\nHooks.once('devModeReady', ({ registerPackageDebugFlag }) => {\n  registerPackageDebugFlag(MODULE_ID);\n});\n\n/* Entity Sheet Override */\n\nHooks.on('renderDocumentSheetConfig', async (app: any, html: any, data: any) => {\n  if (!game.user?.isGM) {\n    return;\n  }\n\n  const htmlToInject = await renderTemplate(GmScreen.TEMPLATES['entitySheetInjection'], {\n    ...data,\n    gmScreenSheetClass: app.object.getFlag(MODULE_ID, 'gmScreenSheetClass'),\n  });\n\n  log(false, 'rendering entity sheet config', {\n    htmlToInject,\n    target: html.find('[name=submit]'),\n    current: app.object.getFlag(MODULE_ID, 'gmScreenSheetClass'),\n  });\n\n  html.find('[name=submit]').before(htmlToInject);\n\n  html.on('change', 'select[name=gmScreenSheetClass]', (event: any) => {\n    log(false, 'custom change listener firing', {\n      event,\n      value: event.target.value,\n    });\n    app.object.setFlag(MODULE_ID, 'gmScreenSheetClass', event.target.value);\n  });\n\n  app.setPosition({ height: 'auto' });\n});\n\n/**\n * Hacky way to ensure our drawer stays in the right place as the sidebar collapses and uncollapses\n */\nHooks.on('collapseSidebar', () => {\n  const uiRight = document.querySelector('#ui-right');\n  if (!uiRight) {\n    return;\n  }\n\n  const uiRightStyles = getComputedStyle(uiRight);\n\n  document.querySelector('body')?.style.setProperty('--gm-screen-ui-right-width', uiRightStyles.width);\n});\n\n/***************************/\n// HANDLEBARS HELPERS\n\nHandlebars.registerHelper(`${MODULE_ABBREV}-path`, (relativePath: string) => {\n  return `modules/${MODULE_ID}/${relativePath}`;\n});\n\n/*\n * https://stackoverflow.com/questions/53398408/switch-case-with-default-in-handlebars-js\n * {{#switch 'a'}}\n *   {{#case 'a'}} A {{/case}}\n *   {{#case 'b'}} B {{/case}}\n * {{/switch}}\n */\nHandlebars.registerHelper(`${MODULE_ABBREV}-switch`, function (value, options) {\n  //@ts-expect-error handlebars things\n  this.switch_value = value;\n  //@ts-expect-error handlebars things\n  return options.fn(this);\n});\n\nHandlebars.registerHelper(`${MODULE_ABBREV}-case`, function (value, options) {\n  //@ts-expect-error handlebars things\n  if (value == this.switch_value) {\n    //@ts-expect-error handlebars things\n    return options.fn(this);\n  }\n});\n\nHandlebars.registerHelper(`${MODULE_ABBREV}-enrich`, function (str) {\n  return TextEditor.enrichHTML(str);\n});\n"],"names":["MySettings","MyHooks"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm91bmRyeXZ0dC1nbVNjcmVlbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3R5cGVzLnRzIiwiLi4vLi4vc3JjL21vZHVsZS9jb25zdGFudHMudHMiLCIuLi8uLi9zcmMvbW9kdWxlL2hlbHBlcnMudHMiLCIuLi8uLi9zcmMvbW9kdWxlL2NsYXNzZXMvR21TY3JlZW5TZXR0aW5nc0NvbmZpZy50cyIsIi4uLy4uL3NyYy9tb2R1bGUvY2xhc3Nlcy9HbVNjcmVlbkRhdGEudHMiLCIuLi8uLi9zcmMvbW9kdWxlL2NsYXNzZXMvRG9jdW1lbnRTaGVldHMvQ29tcGFjdFJvbGxUYWJsZVNoZWV0LnRzIiwiLi4vLi4vc3JjL21vZHVsZS9jbGFzc2VzL0dtU2NyZWVuQ2VsbC50cyIsIi4uLy4uL3NyYy9tb2R1bGUvY2xhc3Nlcy9HbVNjcmVlbkFwcGxpY2F0aW9uLnRzIiwiLi4vLi4vc3JjL21vZHVsZS9jbGFzc2VzL0dtU2NyZWVuLnRzIiwiLi4vLi4vc3JjL21vZHVsZS9mb3VuZHJ5dnR0LWdtU2NyZWVuLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgR21TY3JlZW5TZXR0aW5nc0RhdGEge1xuICBncmlkczogUmVjb3JkPHN0cmluZywgR21TY3JlZW5HcmlkPjsgLy8gb2JqZWN0IG9mIGFsbCBncmlkcyBrZXllZCBieSB1dWlkXG4gIGFjdGl2ZUdyaWRJZDoga2V5b2YgR21TY3JlZW5TZXR0aW5nc0RhdGFbJ2dyaWRzJ107IC8vIGN1cnJlbnRseSB2aXNpYmxlIGdyaWQncyBpZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdtU2NyZWVuR3JpZCB7XG4gIGVudHJpZXM6IFJlY29yZDxzdHJpbmcsIEdtU2NyZWVuR3JpZEVudHJ5PjsgLy8ga2V5ZWQgYnkgY2VsbElkXG4gIGlkOiBzdHJpbmc7IC8vIGdyaWQncyB1dWlkXG4gIG5hbWU6IHN0cmluZzsgLy8gdXNlciBjb25maWd1cmFibGVcbiAgaXNTaGFyZWQ6IGJvb2xlYW47XG4gIHJvd092ZXJyaWRlPzogbnVtYmVyO1xuICBjb2x1bW5PdmVycmlkZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHbVNjcmVlbkdyaWRFbnRyeSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBzcGFuUm93cz86IG51bWJlcjtcbiAgc3BhbkNvbHM/OiBudW1iZXI7XG4gIGVudGl0eVV1aWQ/OiBzdHJpbmc7XG4gIGVudHJ5SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHbVNjcmVlbkFwaSB7XG4gIHRvZ2dsZUdtU2NyZWVuVmlzaWJpbGl0eShpc09wZW4/OiBib29sZWFuKTogdm9pZDtcbiAgcmVmcmVzaEdtU2NyZWVuKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBlbnVtIE15U2V0dGluZ3Mge1xuICBjb2x1bW5zID0gJ2NvbHVtbnMnLFxuICBkaXNwbGF5RHJhd2VyID0gJ2Rpc3BsYXktYXMtZHJhd2VyJyxcbiAgZHJhd2VySGVpZ2h0ID0gJ2RyYXdlci1oZWlnaHQnLFxuICBkcmF3ZXJPcGFjaXR5ID0gJ2RyYXdlci1vcGFjaXR5JyxcbiAgZHJhd2VyV2lkdGggPSAnZHJhd2VyLXdpZHRoJyxcbiAgZ21TY3JlZW5Db25maWcgPSAnZ20tc2NyZWVuLWNvbmZpZycsXG4gIG1pZ3JhdGVkID0gJ21pZ3JhdGVkJyxcbiAgY29uZGVuc2VkQnV0dG9uID0gJ2NvbmRlbnNlZEJ1dHRvbicsXG4gIHJlc2V0ID0gJ3Jlc2V0JyxcbiAgcmlnaHRNYXJnaW4gPSAncmlnaHQtbWFyZ2luJyxcbiAgcm93cyA9ICdyb3dzJyxcbn1cblxuZXhwb3J0IGVudW0gTXlIb29rcyB7XG4gIG9wZW5DbG9zZSA9ICdnbVNjcmVlbk9wZW5DbG9zZScsXG4gIHJlYWR5ID0gJ2dtU2NyZWVuUmVhZHknLFxufVxuXG5leHBvcnQgZW51bSBNeUZsYWdzIHtcbiAgZ21TY3JlZW5TaGVldENsYXNzID0gJ2dtU2NyZWVuU2hlZXRDbGFzcycsXG59XG4iLCJleHBvcnQgY29uc3QgTU9EVUxFX0lEID0gJ2dtLXNjcmVlbic7XG5leHBvcnQgY29uc3QgTU9EVUxFX0FCQlJFViA9ICdHTVNDUic7XG5cbmV4cG9ydCBjb25zdCBURU1QTEFURVMgPSB7XG4gIHNldHRpbmdzOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3NldHRpbmdzLmhic2AsXG4gIHNjcmVlbjogYG1vZHVsZXMvJHtNT0RVTEVfSUR9L3RlbXBsYXRlcy9zY3JlZW4uaGJzYCxcbiAgc2NyZWVuQ2VsbDogYG1vZHVsZXMvJHtNT0RVTEVfSUR9L3RlbXBsYXRlcy9wYXJ0cy9zY3JlZW4tY2VsbC5oYnNgLFxuICBzY3JlZW5HcmlkOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3BhcnRzL3NjcmVlbi1ncmlkLmhic2AsXG4gIGNvbXBhY3RSb2xsVGFibGU6IGBtb2R1bGVzLyR7TU9EVUxFX0lEfS90ZW1wbGF0ZXMvcGFydHMvY29tcGFjdC1yb2xsLXRhYmxlLmhic2AsXG4gIGNvbXBhY3RKb3VybmFsRW50cnk6IGBtb2R1bGVzLyR7TU9EVUxFX0lEfS90ZW1wbGF0ZXMvcGFydHMvY29tcGFjdC1qb3VybmFsLWVudHJ5Lmhic2AsXG4gIGVudGl0eVNoZWV0SW5qZWN0aW9uOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3BhcnRzL2VudGl0eS1zaGVldC1pbmplY3Rpb24uaGJzYCxcbiAgZ3JpZHM6IHtcbiAgICB0YWJsZVJvdzogYG1vZHVsZXMvJHtNT0RVTEVfSUR9L3RlbXBsYXRlcy9wYXJ0cy9zZXR0aW5ncy1ncmlkLWNvbmZpZy10YWJsZS1yb3cuaGJzYCxcbiAgfSxcbn07XG5cbmV4cG9ydCBlbnVtIE15U2V0dGluZ3Mge1xuICBjb2x1bW5zID0gJ2NvbHVtbnMnLFxuICBkaXNwbGF5RHJhd2VyID0gJ2Rpc3BsYXktYXMtZHJhd2VyJyxcbiAgZHJhd2VySGVpZ2h0ID0gJ2RyYXdlci1oZWlnaHQnLFxuICBkcmF3ZXJPcGFjaXR5ID0gJ2RyYXdlci1vcGFjaXR5JyxcbiAgZHJhd2VyV2lkdGggPSAnZHJhd2VyLXdpZHRoJyxcbiAgZ21TY3JlZW5Db25maWcgPSAnZ20tc2NyZWVuLWNvbmZpZycsXG4gIG1pZ3JhdGVkID0gJ21pZ3JhdGVkJyxcbiAgY29uZGVuc2VkQnV0dG9uID0gJ2NvbmRlbnNlZEJ1dHRvbicsXG4gIHJlc2V0ID0gJ3Jlc2V0JyxcbiAgcmlnaHRNYXJnaW4gPSAncmlnaHQtbWFyZ2luJyxcbiAgcm93cyA9ICdyb3dzJyxcbn1cblxuZXhwb3J0IGVudW0gTXlIb29rcyB7XG4gIG9wZW5DbG9zZSA9ICdnbVNjcmVlbk9wZW5DbG9zZScsXG4gIHJlYWR5ID0gJ2dtU2NyZWVuUmVhZHknLFxufVxuXG5leHBvcnQgZW51bSBNeUZsYWdzIHt9XG5cbmV4cG9ydCBjb25zdCBudW1iZXJSZWdleCA9IC8oWystXT8oPz1cXC5cXGR8XFxkKSg/OlxcZCspPyg/OlxcLj9cXGQqKSkoPzpbZUVdKFsrLV0/XFxkKykpPy87XG4iLCJpbXBvcnQgeyBHbVNjcmVlbkdyaWRFbnRyeSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEdtU2NyZWVuIH0gZnJvbSAnLi9jbGFzc2VzL0dtU2NyZWVuJztcbmltcG9ydCB7IE1PRFVMRV9BQkJSRVYsIE1PRFVMRV9JRCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvZyhmb3JjZTogYm9vbGVhbiwgLi4uYXJnczogYW55W10pIHtcbiAgY29uc3Qgc2hvdWxkTG9nID0gZm9yY2UgfHwgZ2FtZS5tb2R1bGVzLmdldCgnX2Rldi1tb2RlJyk/LmFwaT8uZ2V0UGFja2FnZURlYnVnVmFsdWUoTU9EVUxFX0lEKTtcblxuICBpZiAoc2hvdWxkTG9nKSB7XG4gICAgY29uc29sZS5sb2coTU9EVUxFX0lELCAnfCcsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZWRSZWxvYWQgPSBmb3VuZHJ5LnV0aWxzLmRlYm91bmNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSwgMTAwKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3VzdG9tIENTUyBwcm9wZXJ0eSB3aXRoIHRoZSBuYW1lIHByb3ZpZGUgb24gdGhlIGVsZW1lbnQuc3R5bGUgb2YgYWxsIGVsZW1lbnRzIHdoaWNoIG1hdGNoXG4gKiB0aGUgc2VsZWN0b3IgcHJvdmlkZWQgY29udGFpbmluZyB0aGUgY29tcHV0ZWQgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHNwZWNpZmllZC5cbiAqXG4gKiBAcGFyYW0ge0pRdWVyeTxIVE1MRWxlbWVudD59IGh0bWwgLSBTb21lIEhUTUwgZWxlbWVudCB0byBzZWFyY2ggd2l0aGluIGZvciB0aGUgc2VsZWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIEEgQ1NTIHN0eWxlIHNlbGVjdG9yIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBsb2NhdGUgdGhlIHRhcmdldCBlbGVtZW50cyBmb3IgdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7a2V5b2YgQ1NTU3R5bGVEZWNsYXJhdGlvbn0gcHJvcGVydHkgLSBUaGUgbmFtZSBvZiBhIENTUyBwcm9wZXJ0eSB0byBvYnRhaW4gdGhlIGNvbXB1dGVkIHZhbHVlIG9mXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBDU1MgdmFyaWFibGUgKGN1c3RvbSBwcm9wZXJ0eSkgdGhhdCB3aWxsIGJlIGNyZWF0ZWQvdXBkYXRlZC5cbiAqIEBtZW1iZXJvZiBHbVNjcmVlbkFwcGxpY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDU1NQcm9wZXJ0eVZhcmlhYmxlKFxuICBodG1sOiBKUXVlcnk8SFRNTEVsZW1lbnQ+LFxuICBzZWxlY3Rvcjogc3RyaW5nLFxuICBwcm9wZXJ0eToga2V5b2YgQ1NTU3R5bGVEZWNsYXJhdGlvbixcbiAgbmFtZTogc3RyaW5nLFxuKSB7XG4gIGh0bWwuZmluZChzZWxlY3RvcikuZWFjaCgoaSwgZ3JpZENlbGwpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGdyaWRDZWxsKVtwcm9wZXJ0eV07XG4gICAgZ3JpZENlbGwuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgU3RyaW5nKHZhbHVlKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgZ2V0dGluZyBhIHVzZXIncyBjZWxsIGNvbmZpZyBpbnB1dHMgdmlhIGEgZGlhbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyQ2VsbENvbmZpZ3VyYXRpb25JbnB1dChcbiAgY2VsbFRvQ29uZmlndXJlOiBHbVNjcmVlbkdyaWRFbnRyeSxcbiAgZ3JpZERldGFpbHM6IHtcbiAgICByb3dzOiBudW1iZXI7XG4gICAgY29sdW1uczogbnVtYmVyO1xuICB9LFxuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx7XG4gICAgbmV3U3BhblJvd3M6IG51bWJlcjtcbiAgICBuZXdTcGFuQ29sczogbnVtYmVyO1xuICB9PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbmV3IERpYWxvZyh7XG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKGAke01PRFVMRV9BQkJSRVZ9LmNlbGxDb25maWdEaWFsb2cuQ2VsbENvbmZpZ2ApLFxuICAgICAgY29udGVudDogYFxuICA8Zm9ybSBjbGFzcz1cImZsZXhjb2xcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgPGxhYmVsIGZvcj1cInNwYW5Sb3dzXCI+JHtnYW1lLmkxOG4ubG9jYWxpemUoYCR7TU9EVUxFX0FCQlJFVn0uY2VsbENvbmZpZ0RpYWxvZy5Sb3dTcGFuYCl9PC9sYWJlbD5cbiAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuYW1lPVwic3BhblJvd3NcIiBtaW49XCIxXCIgbWF4PVwiJHtncmlkRGV0YWlscy5yb3dzICsgMSAtIGNlbGxUb0NvbmZpZ3VyZS55fVwiIHZhbHVlPVwiJHtcbiAgICAgICAgY2VsbFRvQ29uZmlndXJlLnNwYW5Sb3dzIHx8IDFcbiAgICAgIH1cIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgPGxhYmVsIGZvcj1cInNwYW5Db2xzXCI+JHtnYW1lLmkxOG4ubG9jYWxpemUoYCR7TU9EVUxFX0FCQlJFVn0uY2VsbENvbmZpZ0RpYWxvZy5Db2xTcGFuYCl9PC9sYWJlbD5cbiAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuYW1lPVwic3BhbkNvbHNcIiBtaW49XCIxXCIgbWF4PVwiJHtcbiAgICAgICAgZ3JpZERldGFpbHMuY29sdW1ucyArIDEgLSBjZWxsVG9Db25maWd1cmUueFxuICAgICAgfVwiIHZhbHVlPVwiJHtjZWxsVG9Db25maWd1cmUuc3BhbkNvbHMgfHwgMX1cIj5cbiAgICA8L2Rpdj5cbiAgPC9mb3JtPlxuYCxcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgbm86IHtcbiAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+JyxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdDYW5jZWwnKSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtdW5kb1wiPjwvaT4nLFxuICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ0RlZmF1bHQnKSxcbiAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHtcbiAgICAgICAgICAgICAgbmV3U3BhblJvd3M6IDEsXG4gICAgICAgICAgICAgIG5ld1NwYW5Db2xzOiAxLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbG9nKGZhbHNlLCAnZGlhbG9nIGZvcm1WYWx1ZXMnLCBmb3JtVmFsdWVzKTtcblxuICAgICAgICAgICAgcmVzb2x2ZShmb3JtVmFsdWVzKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB5ZXM6IHtcbiAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JyxcbiAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTdWJtaXQnKSxcbiAgICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3IgaWRrXG4gICAgICAgICAgY2FsbGJhY2s6IChodG1sOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3JtVmFsdWVzID0ge1xuICAgICAgICAgICAgICBuZXdTcGFuUm93czogTnVtYmVyKGh0bWwuZmluZCgnW25hbWU9XCJzcGFuUm93c1wiXScpLnZhbCgpKSxcbiAgICAgICAgICAgICAgbmV3U3BhbkNvbHM6IE51bWJlcihodG1sLmZpbmQoJ1tuYW1lPVwic3BhbkNvbHNcIl0nKS52YWwoKSksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsb2coZmFsc2UsICdkaWFsb2cgZm9ybVZhbHVlcycsIGZvcm1WYWx1ZXMpO1xuXG4gICAgICAgICAgICByZXNvbHZlKGZvcm1WYWx1ZXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZGVmYXVsdDogJ3llcycsXG4gICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH0sXG4gICAgfSkucmVuZGVyKHRydWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IEdtU2NyZWVuU2V0dGluZ3NEYXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgTU9EVUxFX0FCQlJFViwgTU9EVUxFX0lEIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgR21TY3JlZW4gfSBmcm9tICcuL0dtU2NyZWVuJztcblxuLy8gd2UgaGF2ZSBubyBjdXN0b20gb3B0aW9uc1xudHlwZSBHbVNjcmVlblNldHRpbmdzQ29uZmlnT3B0aW9ucyA9IEZvcm1BcHBsaWNhdGlvbk9wdGlvbnM7XG5cbi8vIHRoZSBkYXRhIHByb3ZpZGVkIHRvIHRoZSB0ZW1wbGF0ZSBzaG91bGQgbG9vayBsaWtlIHRoaXNcbmludGVyZmFjZSBHbVNjcmVlblNldHRpbmdzQ29uZmlnRGF0YSB7XG4gIHNldHRpbmdzOiBHbVNjcmVlblNldHRpbmdzRGF0YTtcbiAgZGVmYXVsdFJvd3M6IG51bWJlcjtcbiAgZGVmYXVsdENvbHVtbnM6IG51bWJlcjtcbn1cblxuLy8gdGhpcyBhcHBsaWNhdGlvbiBpcyBpbnN0YW5jaWF0ZWQgYnkgY29yZSB3aXRoIG5vIG9iamVjdCBwcm92aWRlZFxudHlwZSBHbVNjcmVlblNldHRpbmdzT2JqZWN0ID0gdW5kZWZpbmVkO1xuXG5leHBvcnQgY2xhc3MgR21TY3JlZW5TZXR0aW5nc0NvbmZpZyBleHRlbmRzIEZvcm1BcHBsaWNhdGlvbjxcbiAgR21TY3JlZW5TZXR0aW5nc0NvbmZpZ09wdGlvbnMsXG4gIEdtU2NyZWVuU2V0dGluZ3NDb25maWdEYXRhLFxuICBHbVNjcmVlblNldHRpbmdzT2JqZWN0XG4+IHtcbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIuZGVmYXVsdE9wdGlvbnMsXG4gICAgICBjbGFzc2VzOiBbJ2dtLXNjcmVlbi1jb25maWcnXSxcbiAgICAgIGNsb3NlT25TdWJtaXQ6IGZhbHNlLFxuICAgICAgaGVpZ2h0OiAnYXV0bycgYXMgY29uc3QsXG4gICAgICBzdWJtaXRPbkNoYW5nZTogZmFsc2UsXG4gICAgICBzdWJtaXRPbkNsb3NlOiBmYWxzZSxcbiAgICAgIGlkOiAnZ20tc2NyZWVuLXRhYnMtY29uZmlnJyxcbiAgICAgIHRlbXBsYXRlOiBHbVNjcmVlbi5URU1QTEFURVMuc2V0dGluZ3MsXG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKGAke01PRFVMRV9BQkJSRVZ9LmdyaWRDb25maWcuR3JpZENvbmZpZ2ApLFxuICAgICAgd2lkdGg6IDYwMCxcbiAgICB9O1xuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmdtU2NyZWVuU2V0dGluZ3NDb25maWdEYXRhO1xuICB9XG5cbiAgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uR21TY3JlZW4uZGF0YU1hbmFnZXIuZ21TY3JlZW5TZXR0aW5nc0NvbmZpZ0RhdGEsXG4gICAgfTtcbiAgfVxuXG4gIC8vIFRPRE86IEF1ZGl0IHRoaXM/XG4gIF9kcmFnTGlzdGVuZXJzKGh0bWw6IEpRdWVyeSkge1xuICAgIGxldCBkcmFnZ2VkUm93OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICAgIGh0bWwub24oJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICBkcmFnZ2VkUm93ID0gZS50YXJnZXQ7XG4gICAgfSk7XG5cbiAgICBodG1sLm9uKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBpZiAoIWRyYWdnZWRSb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXRSb3cgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKCd0Ym9keSB0cicpWzBdO1xuXG4gICAgICBpZiAoIXRhcmdldFJvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRhYmxlUm93cyA9IEFycmF5LmZyb20oJChlLnRhcmdldCkucGFyZW50cygndGJvZHknKS5jaGlsZHJlbigpKSBhcyBIVE1MRWxlbWVudFtdO1xuXG4gICAgICBpZiAodGFibGVSb3dzLmluZGV4T2YodGFyZ2V0Um93KSA+IHRhYmxlUm93cy5pbmRleE9mKGRyYWdnZWRSb3cpKSB7XG4gICAgICAgIHRhcmdldFJvdy5hZnRlcihkcmFnZ2VkUm93KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFJvdy5iZWZvcmUoZHJhZ2dlZFJvdyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBodG1sLm9uKCdkcmFnZW5kJywgKGUpID0+IHtcbiAgICAgIGRyYWdnZWRSb3cgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVOZXdSb3dDbGljayA9IGFzeW5jIChjdXJyZW50VGFyZ2V0OiBKUXVlcnkpID0+IHtcbiAgICBjb25zdCB0Ym9keUVsZW1lbnQgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgndGJvZHknKTtcblxuICAgIGNvbnN0IG5ld0dyaWRSb3dUZW1wbGF0ZURhdGEgPSB7XG4gICAgICBncmlkSWQ6IHJhbmRvbUlEKCksXG4gICAgICBncmlkOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICBjb2x1bW5PdmVycmlkZTogJycsXG4gICAgICAgIHJvd092ZXJyaWRlOiAnJyxcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0Q29sdW1uczogdGhpcy5kYXRhLmRlZmF1bHRDb2x1bW5zLFxuICAgICAgZGVmYXVsdFJvd3M6IHRoaXMuZGF0YS5kZWZhdWx0Um93cyxcbiAgICB9O1xuXG4gICAgY29uc3QgbmV3Um93ID0gJChhd2FpdCByZW5kZXJUZW1wbGF0ZShHbVNjcmVlbi5URU1QTEFURVMuZ3JpZHMudGFibGVSb3csIG5ld0dyaWRSb3dUZW1wbGF0ZURhdGEpKTtcbiAgICAvLyByZW5kZXIgYSBuZXcgcm93IGF0IHRoZSBlbmQgb2YgdGJvZHlcbiAgICB0Ym9keUVsZW1lbnQuYXBwZW5kKG5ld1Jvdyk7XG4gICAgdGhpcy5zZXRQb3NpdGlvbih7fSk7IC8vIHJlY2FsYyBoZWlnaHRcbiAgfTtcblxuICBoYW5kbGVEZWxldGVSb3dDbGljayA9IChjdXJyZW50VGFyZ2V0OiBKUXVlcnkpID0+IHtcbiAgICBsb2coZmFsc2UsICdkZWxldGUgcm93IGNsaWNrZWQnLCB7XG4gICAgICBjdXJyZW50VGFyZ2V0LFxuICAgIH0pO1xuXG4gICAgY3VycmVudFRhcmdldC5jbG9zZXN0KCd0cicpLnJlbW92ZSgpO1xuICAgIHRoaXMuc2V0UG9zaXRpb24oe30pOyAvLyByZWNhbGMgaGVpZ2h0XG4gIH07XG5cbiAgYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbDogSlF1ZXJ5KSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG5cbiAgICB0aGlzLl9kcmFnTGlzdGVuZXJzKGh0bWwpO1xuXG4gICAgaHRtbC5vbignY2xpY2snLCAnYnV0dG9uJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBldmVudC5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5hY3Rpb247XG5cbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2FkZC1yb3cnOiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVOZXdSb3dDbGljayhldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdkZWxldGUtcm93Jzoge1xuICAgICAgICAgIHRoaXMuaGFuZGxlRGVsZXRlUm93Q2xpY2soZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVPYmplY3QoZXZlbnQ6IEV2ZW50LCBmb3JtRGF0YTogb2JqZWN0KSB7XG4gICAgY29uc3QgZGF0YU1hbmFnZXIgPSBHbVNjcmVlbi5kYXRhTWFuYWdlcjtcblxuICAgIGNvbnN0IGZvcm1EYXRhT2JqZWN0OiBPbWl0PEdtU2NyZWVuU2V0dGluZ3NEYXRhLCAnYWN0aXZlR3JpZElkJz4gPSBleHBhbmRPYmplY3QoZm9ybURhdGEpO1xuXG4gICAgbG9nKGZhbHNlLCB7XG4gICAgICBmb3JtRGF0YSxcbiAgICAgIGZvcm1EYXRhT2JqZWN0LFxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGZvcm1EYXRhT2JqZWN0KS5sZW5ndGggPT09IDApIHtcbiAgICAgIHVpLm5vdGlmaWNhdGlvbnM/LmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZShgJHtNT0RVTEVfQUJCUkVWfS5ncmlkQ29uZmlnLmVycm9ycy5lbXB0eWApKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNhdmUgdGhlIGdyaWQgd2l0aCBubyB0YWJzLicpO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0dyaWRJZHMgPSBPYmplY3Qua2V5cyhmb3JtRGF0YU9iamVjdC5ncmlkcyk7XG5cbiAgICAvLyByZWJ1aWxkIHRoZSBncmlkcyBvYmplY3Qgb24gZXZlcnkgc2F2ZVxuICAgIGNvbnN0IG5ld0dyaWRzID0gbmV3R3JpZElkcy5yZWR1Y2U8R21TY3JlZW5TZXR0aW5nc0RhdGFbJ2dyaWRzJ10+KChhY2MsIGdyaWRJZCkgPT4ge1xuICAgICAgY29uc3QgZ3JpZCA9IGZvcm1EYXRhT2JqZWN0LmdyaWRzW2dyaWRJZF07XG5cbiAgICAgIC8vIGlmIHRoaXMgZ3JpZCBleGlzdHMgYWxyZWFkeSwgc3ByZWFkIHRoZSBvbGQgYW5kIG1vZGlmeSBpdFxuICAgICAgaWYgKGRhdGFNYW5hZ2VyLmdyaWRzLmhhc093blByb3BlcnR5KGdyaWRJZCkpIHtcbiAgICAgICAgYWNjW2dyaWRJZF0gPSB7XG4gICAgICAgICAgLi4uZGF0YU1hbmFnZXIuZ3JpZHNbZ3JpZElkXSxcbiAgICAgICAgICAuLi5ncmlkLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9XG5cbiAgICAgIC8vIG90aGVyd2lzZSBjcmVhdGUgaXRcbiAgICAgIGFjY1tncmlkSWRdID0ge1xuICAgICAgICAuLi5ncmlkLFxuICAgICAgICBlbnRyaWVzOiB7fSxcbiAgICAgICAgbmFtZTogZ3JpZC5uYW1lID8/ICcnLFxuICAgICAgICBpc1NoYXJlZDogZ3JpZC5pc1NoYXJlZCA/PyBmYWxzZSxcbiAgICAgICAgaWQ6IGdyaWRJZCxcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuXG4gICAgLy8gaGFuZGxlIGNhc2Ugd2hlcmUgYWN0aXZlIHRhYiBpcyBkZWxldGVkXG4gICAgY29uc3QgbmV3QWN0aXZlR3JpZElkID0gbmV3R3JpZElkcy5pbmNsdWRlcyhkYXRhTWFuYWdlci5hY3RpdmVHbUdyaWRJZClcbiAgICAgID8gZGF0YU1hbmFnZXIuYWN0aXZlR21HcmlkSWRcbiAgICAgIDogbmV3R3JpZElkc1swXTtcblxuICAgIGNvbnN0IG5ld0dtU2NyZWVuQ29uZmlnOiBHbVNjcmVlblNldHRpbmdzRGF0YSA9IHtcbiAgICAgIGdyaWRzOiBuZXdHcmlkcyxcbiAgICAgIGFjdGl2ZUdyaWRJZDogbmV3QWN0aXZlR3JpZElkLFxuICAgIH07XG5cbiAgICBsb2codHJ1ZSwgJ3NldHRpbmcgc2V0dGluZ3MnLCB7XG4gICAgICBuZXdHbVNjcmVlbkNvbmZpZyxcbiAgICB9KTtcblxuICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KE1PRFVMRV9JRCwgR21TY3JlZW4uU0VUVElOR1MuZ21TY3JlZW5Db25maWcsIG5ld0dtU2NyZWVuQ29uZmlnKTtcblxuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSm91cm5hbEVudHJ5RGF0YSB9IGZyb20gJ0BsZWFndWUtb2YtZm91bmRyeS1kZXZlbG9wZXJzL2ZvdW5kcnktdnR0LXR5cGVzL3NyYy9mb3VuZHJ5L2NvbW1vbi9kYXRhL21vZHVsZS5tanMnO1xuaW1wb3J0IHsgR21TY3JlZW5HcmlkLCBHbVNjcmVlbkdyaWRFbnRyeSwgR21TY3JlZW5TZXR0aW5nc0RhdGEsIE15SG9va3MsIE15U2V0dGluZ3MgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBNT0RVTEVfQUJCUkVWLCBNT0RVTEVfSUQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVib3VuY2VkUmVsb2FkLCBsb2cgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IEdtU2NyZWVuIH0gZnJvbSAnLi9HbVNjcmVlbic7XG5pbXBvcnQgeyBHbVNjcmVlblNldHRpbmdzQ29uZmlnIH0gZnJvbSAnLi9HbVNjcmVlblNldHRpbmdzQ29uZmlnJztcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRHbVNjcmVlbkRhdGE6IEdtU2NyZWVuU2V0dGluZ3NEYXRhID0ge1xuICBhY3RpdmVHcmlkSWQ6ICdkZWZhdWx0JyxcbiAgZ3JpZHM6IHtcbiAgICBkZWZhdWx0OiB7XG4gICAgICBuYW1lOiAnTWFpbicsXG4gICAgICBpZDogJ2RlZmF1bHQnLFxuICAgICAgaXNTaGFyZWQ6IGZhbHNlLFxuICAgICAgZW50cmllczoge30sXG4gICAgfSxcbiAgfSxcbn07XG5cbi8qKlxuICogSGFuZGxlcyBnZXR0aW5nIGFuZCBwcmVwYXJpbmcgdGhlIEdNIFNjcmVlbiBkYXRhIGZvciB0aGUgbG9nZ2VkIGluIHVzZXIuXG4gKiBSZWZyZXNoZWQgdmlhIHRoZSBgcmVmcmVzaGAgbWV0aG9kLCBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGtlZXAgdXAgdG8gZGF0ZSB3aXRoIHNldHRpbmdzLlxuICogQWxzbyBwcm92aWRlcyBzb21lIGhlbHBlciBmdW5jdGlvbnMgZm9yIHNldHRpbmcgZ3JpZC1yZWxhdGVkIGRhdGEuXG4gKlxuICogUmVzcG9uc2libGUgZm9yIGtlZXBpbmcgdHJhY2sgb2YgdGhlIEdNIFNjcmVlbiBTZXR0aW5ncyBkYXRhIGNoYW5nZXMgdG8gbWFrZSByZWZyZXNoaW5nIHRoZSBncmlkIGxlc3MgcmVzb3VyY2UgaGVhdnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBHbVNjcmVlbkRhdGFNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIFRoaXMgY2xhc3MncyBjdXJyZW50IHVuZGVyc3RhbmRpbmcgb2YgdGhlIEdNIFNjcmVlbiBEYXRhXG4gICAqL1xuICBfb2xkRGF0YT86IEdtU2NyZWVuU2V0dGluZ3NEYXRhO1xuICBfZGF0YTogR21TY3JlZW5TZXR0aW5nc0RhdGE7XG4gIF9ncmlkT3B0aW9uczoge1xuICAgIHJvd3M6IG51bWJlcjtcbiAgICBjb2x1bW5zOiBudW1iZXI7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZGF0YSA9IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgR21TY3JlZW4uU0VUVElOR1MuZ21TY3JlZW5Db25maWcpO1xuICAgIHRoaXMuX2dyaWRPcHRpb25zID0ge1xuICAgICAgcm93czogZ2FtZS5zZXR0aW5ncy5nZXQoTU9EVUxFX0lELCBHbVNjcmVlbi5TRVRUSU5HUy5yb3dzKSxcbiAgICAgIGNvbHVtbnM6IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgR21TY3JlZW4uU0VUVElOR1MuY29sdW1ucyksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZWQgY29weSBvZiB0aGUgcHJldmlvdXMgZ3JpZCBkYXRhIGZyb20gc2V0dGluZ3NcbiAgICogdXNlZCB0byB0ZWxsIHRoZSBkaWZmXG4gICAqL1xuICAvLyBzdGF0aWMgX29sZEdtU2NyZWVuQ29uZmlnOiBHbVNjcmVlblNldHRpbmdzRGF0YTtcblxuICBnZXQgZ21TY3JlZW5TZXR0aW5nc0NvbmZpZ0RhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldHRpbmdzOiB0aGlzLl9kYXRhLFxuICAgICAgZGVmYXVsdFJvd3M6IHRoaXMuX2dyaWRPcHRpb25zLnJvd3MsXG4gICAgICBkZWZhdWx0Q29sdW1uczogdGhpcy5fZ3JpZE9wdGlvbnMuY29sdW1ucyxcbiAgICB9O1xuICB9XG5cbiAgLy8gc3RhdGljIGdldCBfZGVmYXVsdENvbHVtbnMoKSB7XG4gIC8vICAgcmV0dXJuIGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgR21TY3JlZW4uU0VUVElOR1MuY29sdW1ucyk7XG4gIC8vIH1cblxuICAvLyBzdGF0aWMgZ2V0IF9kZWZhdWx0Um93cygpIHtcbiAgLy8gICByZXR1cm4gZ2FtZS5zZXR0aW5ncy5nZXQoTU9EVUxFX0lELCBHbVNjcmVlbi5TRVRUSU5HUy5yb3dzKTtcbiAgLy8gfVxuXG4gIC8qKiBGaWx0ZXJzIGdyaWRzIHRvIG9uZXMgdGhlIGxvZ2dlZCBpbiB1c2VyIGNhbiBzZWUgKi9cbiAgZ2V0IGdyaWRzKCkge1xuICAgIHJldHVybiBHbVNjcmVlbkRhdGFNYW5hZ2VyLmdldFVzZXJWaXNpYmxlR3JpZHNGcm9tU2V0dGluZ3NEYXRhKHRoaXMuX2RhdGEpO1xuICB9XG5cbiAgLyoqIE9ubHkgbWF0dGVycyB0byB0aGUgR00gKi9cbiAgZ2V0IGFjdGl2ZUdtR3JpZElkKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhPy5hY3RpdmVHcmlkSWQgPz8gZGVmYXVsdEdtU2NyZWVuRGF0YS5hY3RpdmVHcmlkSWQ7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIHJldHVybiB0aGUgZ3JpZCBjdXJyZW50bHkgbWFya2VkIGFjdGl2ZVxuICAgKiBPbmx5IG1hdHRlcnMgZm9yIEdNc1xuICAgKi9cbiAgZ2V0IGFjdGl2ZUdtR3JpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncmlkc1t0aGlzLmFjdGl2ZUdtR3JpZElkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHVzZXIgaGFzIGFueSB2aXNpYmxlIGdyaWRzXG4gICAqL1xuICBnZXQgaGFzVXNlclZpZXdhYmxlR3JpZHMoKSB7XG4gICAgcmV0dXJuICEhT2JqZWN0LmtleXModGhpcy5ncmlkcykubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdXNlciB3YW50cyB0byB1c2UgZHJhd2VyIG1vZGVcbiAgICovXG4gIGdldCBkcmF3ZXJNb2RlKCkge1xuICAgIHJldHVybiBnYW1lLnNldHRpbmdzLmdldChNT0RVTEVfSUQsIEdtU2NyZWVuLlNFVFRJTkdTLmRpc3BsYXlEcmF3ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIGFnZ3JlZ2F0ZSBhIGZldyBzZXR0aW5ncyB1c2VmdWwgZm9yIGRpc3BsYXlpbmcgdGhlIEdNIFNjcmVlbiBBcHBsaWNhdGlvblxuICAgKi9cbiAgZ2V0IGFwcGxpY2F0aW9uRGF0YSgpIHtcbiAgICBjb25zdCB7IFNFVFRJTkdTIH0gPSBHbVNjcmVlbjtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5fZ3JpZE9wdGlvbnMsXG4gICAgICByaWdodE1hcmdpbjogZ2FtZS5zZXR0aW5ncy5nZXQoTU9EVUxFX0lELCBTRVRUSU5HUy5yaWdodE1hcmdpbiksXG4gICAgICBkcmF3ZXJXaWR0aDogZ2FtZS5zZXR0aW5ncy5nZXQoTU9EVUxFX0lELCBTRVRUSU5HUy5kcmF3ZXJXaWR0aCksXG4gICAgICBkcmF3ZXJIZWlnaHQ6IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgU0VUVElOR1MuZHJhd2VySGVpZ2h0KSxcbiAgICAgIGRyYXdlck9wYWNpdHk6IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgU0VUVElOR1MuZHJhd2VyT3BhY2l0eSksXG4gICAgICBjb25kZW5zZWRCdXR0b246IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgU0VUVElOR1MuY29uZGVuc2VkQnV0dG9uKSxcbiAgICAgIGRpc3BsYXlEcmF3ZXI6IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgU0VUVElOR1MuZGlzcGxheURyYXdlciksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBncmlkSWRzIHRoYXQgd2VyZSBtb3N0IHJlY2VudGx5IHVwZGF0ZWRcbiAgICogQHJldHVybnMgdGhlIGdyaWQgaWRzIHRoYXQgaGF2ZSBjaGFuZ2VkIHJlY2VudGx5XG4gICAqL1xuICBnZXQgZGlmZkdyaWRJZHMoKSB7XG4gICAgaWYgKCF0aGlzLl9vbGREYXRhPy5ncmlkcykge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2RhdGEuZ3JpZHMpO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhmb3VuZHJ5LnV0aWxzLmRpZmZPYmplY3QodGhpcy5fb2xkRGF0YS5ncmlkcywgdGhpcy5fZGF0YS5ncmlkcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGVyZSBhcmUgYW55IG5ld2x5IHZpc2libGUgb3IgaW52aXNpYmxlIGdyaWRzIHRvIHRoaXMgdXNlclxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBncmlkcyB2aXNpYmxlIHRvIHRoaXMgdXNlciBoYXZlIGNoYW5nZWRcbiAgICovXG4gIGdldCB2aXNpYmxlR3JpZElkc0NoYW5nZWQoKSB7XG4gICAgY29uc3QgdXNlclZpc2libGVHcmlkSWRzID0gbmV3IFNldChPYmplY3Qua2V5cyh0aGlzLmdyaWRzKSk7XG5cbiAgICAvLyBpZiB0aGVyZSB3YXMgbm8gb2xkIGRhdGEsIGFsbCBncmlkcyBhcmUgbmV3XG4gICAgaWYgKCF0aGlzLl9vbGREYXRhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRVc2VyVmlzaWJsZUdyaWRJZHMgPSBuZXcgU2V0KFxuICAgICAgT2JqZWN0LmtleXMoR21TY3JlZW5EYXRhTWFuYWdlci5nZXRVc2VyVmlzaWJsZUdyaWRzRnJvbVNldHRpbmdzRGF0YSh0aGlzLl9vbGREYXRhKSksXG4gICAgKTtcblxuICAgIHJldHVybiAhdXNlclZpc2libGVHcmlkSWRzLmVxdWFscyhvbGRVc2VyVmlzaWJsZUdyaWRJZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvcHVsYXRlIHRoaXMgaW5zdGFuY2Ugd2l0aCB0aGUgZGF0YSBmcm9tIHNldHRpbmdzLlxuICAgKiBSdW5zIGZyb20gdGhlIFNldHRpbmdzIHJlZ2lzdGVyZWQgYG9uQ2hhbmdlYFxuICAgKiBSZS1yZW5kZXJzIHRoZSBncmlkIGlmIG5lY2Vzc2FyeVxuICAgKiAvLyBzaG91bGQgYmUgYHJlZnJlc2hHbVNjcmVlbmAgZnJvbSB0aGUgYXBpXG4gICAqL1xuICByZWZyZXNoID0gKCkgPT4ge1xuICAgIHRoaXMuX29sZERhdGEgPSBmb3VuZHJ5LnV0aWxzLmRlZXBDbG9uZSh0aGlzLl9kYXRhKTtcblxuICAgIHRoaXMuX2RhdGEgPSBnYW1lLnNldHRpbmdzLmdldChNT0RVTEVfSUQsIEdtU2NyZWVuLlNFVFRJTkdTLmdtU2NyZWVuQ29uZmlnKTtcbiAgICB0aGlzLl9ncmlkT3B0aW9ucyA9IHtcbiAgICAgIHJvd3M6IGdhbWUuc2V0dGluZ3MuZ2V0KE1PRFVMRV9JRCwgR21TY3JlZW4uU0VUVElOR1Mucm93cyksXG4gICAgICBjb2x1bW5zOiBnYW1lLnNldHRpbmdzLmdldChNT0RVTEVfSUQsIEdtU2NyZWVuLlNFVFRJTkdTLmNvbHVtbnMpLFxuICAgIH07XG5cbiAgICBsb2coZmFsc2UsICdyZWZyZXNoaW5nIGdtIHNjcmVlbiBkYXRhJywge1xuICAgICAgbmV3RGF0YTogZm91bmRyeS51dGlscy5kZWVwQ2xvbmUodGhpcy5fZGF0YSksXG4gICAgICBkYXRhOiBmb3VuZHJ5LnV0aWxzLmRlZXBDbG9uZSh0aGlzLl9vbGREYXRhKSxcbiAgICAgIGRpZmZHcmlkSWRzOiB0aGlzLmRpZmZHcmlkSWRzLFxuICAgIH0pO1xuXG4gICAgLy8gZG8gbm90aGluZyBpZiB0aGVyZSBhcmUgbm8gZ3JpZCBpZHMgdGhhdCBjaGFuZ2VkXG4gICAgaWYgKCF0aGlzLmRpZmZHcmlkSWRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gMS4gc2VlIGlmIHRoZSBncmlkcyBJIGNhbiBzZWUgYXJlIHRoZSBvbmVzIHRoYXQgY2hhbmdlZFxuICAgIC8vIGlmIHRoaXMgaXMgdHJ1ZSB3ZSBuZWVkIHRvIHJlcmVuZGVyXG4gICAgY29uc3QgbXlHcmlkc0NoYW5nZWQgPSB0aGlzLmRpZmZHcmlkSWRzLmZpbHRlcigoZGlmZkdyaWRJZCkgPT4gT2JqZWN0LmtleXModGhpcy5ncmlkcykuaW5jbHVkZXMoZGlmZkdyaWRJZCkpO1xuXG4gICAgLy8gMi4gY2hlY2sgaWYgdGhlIGdyaWRJZHMgSSBjYW4gY3VycmVudGx5IHNlZSBhcmUgdGhlIHNhbWUgYXMgYmVmb3JlIHRoZSBkaWZmXG4gICAgLy8gaWYgdGhpcyBpcyB0cnVlIHdlIG5lZWQgdG8gcmVyZW5kZXJcbiAgICBjb25zdCBteVZpc2libGVHcmlkSWRzQ2hhbmdlZCA9IHRoaXMudmlzaWJsZUdyaWRJZHNDaGFuZ2VkO1xuXG4gICAgLy8gaWYgYm90aCBhcmUgZmFsc2UsIGRvbid0IHJlLXJlbmRlclxuICAgIGlmICghbXlWaXNpYmxlR3JpZElkc0NoYW5nZWQgJiYgIW15R3JpZHNDaGFuZ2VkKSB7XG4gICAgICBsb2coZmFsc2UsICdub3QgcmVyZW5kZXJpbmcgYmVjYXVzZSBub25lIG9mIG15IHZpc2libGUgZ3JpZHMgY2hhbmdlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlLXJlbmRlciBHTSBTY3JlZW4gQXBwbGljYXRpb24/XG4gICAgLy8gcHJvdmlkZXMgZGlmZkdyaWRJZHNcbiAgICBHbVNjcmVlbi5nbVNjcmVlbkFwcC5yZWZyZXNoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZXhpc3RpbmcgR3JpZCBvYmplY3QgaW4gc2V0dGluZ3Mgd2l0aCB0aGUgcHJvdmlkZWQgb2JqZWN0XG4gICAqXG4gICAqIFJlZnJlc2hlcyBhdXRvbWF0aWNhbGx5IG9uIGFsbCBjbGllbnRzIGJlY2F1c2Ugb2YgdGhlIGBvbkNoYW5nZWAgY2FsbGJhY2sgb24gdGhlIHNldHRpbmcgcmVnaXN0cmF0aW9uXG4gICAqL1xuICBzZXRHcmlkRGF0YShuZXdHcmlkRGF0YTogR21TY3JlZW5HcmlkKSB7XG4gICAgaWYgKCFnYW1lLnVzZXI/LmlzR00pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgYmUgYSBHTSB1c2VyIHRvIGVkaXQgYSBHcmlkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3R21TY3JlZW5Db25maWcgPSBmb3VuZHJ5LnV0aWxzLmRlZXBDbG9uZSh0aGlzLl9kYXRhKTtcblxuICAgIGNvbnN0IHVwZGF0ZWQgPSBzZXRQcm9wZXJ0eShuZXdHbVNjcmVlbkNvbmZpZywgYGdyaWRzLiR7bmV3R3JpZERhdGEuaWR9YCwgbmV3R3JpZERhdGEpO1xuXG4gICAgaWYgKCF1cGRhdGVkKSB7XG4gICAgICAvLyBzb21ldGhpbmcgZmFpbGVkXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nIHRyeWluZyB0byB1cGRhdGUgdGhlIGdyaWQgZGF0YS4nKTtcbiAgICB9XG5cbiAgICBsb2coZmFsc2UsICdzZXRHcmlkRGF0YScsIHtcbiAgICAgIGN1cnJlbnRDb25maWc6IHRoaXMuX2RhdGEsXG4gICAgICBuZXdHbVNjcmVlbkNvbmZpZyxcbiAgICAgIHVwZGF0ZWQsXG4gICAgfSk7XG5cbiAgICAvLyBjaGFuZ2luZyB0aGlzIHNldHRpbmcgd2lsbCBhdXRvLXJlZnJlc2ggdGhlIHNjcmVlblxuICAgIHJldHVybiBnYW1lLnNldHRpbmdzLnNldChNT0RVTEVfSUQsIEdtU2NyZWVuLlNFVFRJTkdTLmdtU2NyZWVuQ29uZmlnLCBuZXdHbVNjcmVlbkNvbmZpZyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYWN0aXZlIEdNIEdyaWQgSUQgKGkuZS4gdGhlIG9uZSB3ZSBleHBlY3QgdGhlIEdNIHRvIGJlIGxvb2tpbmcgYXQpXG4gICAqL1xuICBhc3luYyBzZXRBY3RpdmVHbUdyaWRJZChuZXdBY3RpdmVHcmlkSWQ/OiBzdHJpbmcpIHtcbiAgICBpZiAoIWdhbWUudXNlcj8uaXNHTSB8fCBuZXdBY3RpdmVHcmlkSWQgPT09IHRoaXMuYWN0aXZlR21HcmlkSWQgfHwgIW5ld0FjdGl2ZUdyaWRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZyhmYWxzZSwgJ3RyeWluZyB0byBzZXQgYWN0aXZlIGdyaWQnLCB7IG5ld0FjdGl2ZUdyaWRJZCB9KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdHbVNjcmVlbkNvbmZpZyA9IGZvdW5kcnkudXRpbHMuZGVlcENsb25lKHRoaXMuX2RhdGEpO1xuICAgICAgbmV3R21TY3JlZW5Db25maWcuYWN0aXZlR3JpZElkID0gbmV3QWN0aXZlR3JpZElkO1xuICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoTU9EVUxFX0lELCBHbVNjcmVlbi5TRVRUSU5HUy5nbVNjcmVlbkNvbmZpZywgbmV3R21TY3JlZW5Db25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2codHJ1ZSwgJ2Vycm9yIHNldHRpbmcgYWN0aXZlIHRhYicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZ3JpZCBlbnRyaWVzIGZvciBhIGdpdmVuIGdyaWQgYXMgYW4gYXJyYXkgd2l0aCBlbXB0eSBjZWxscyBwb3B1bGF0ZWRcbiAgICovXG4gIGdldEh5ZHJhdGVkR3JpZEVudHJpZXMoZ3JpZDogR21TY3JlZW5HcmlkKSB7XG4gICAgY29uc3QgZ3JpZENvbHVtbnMgPSBncmlkLmNvbHVtbk92ZXJyaWRlID8/IHRoaXMuX2dyaWRPcHRpb25zLmNvbHVtbnM7XG4gICAgY29uc3QgZ3JpZFJvd3MgPSBncmlkLnJvd092ZXJyaWRlID8/IHRoaXMuX2dyaWRPcHRpb25zLnJvd3M7XG5cbiAgICBjb25zdCBlbXB0eUNlbGxzTnVtID0gTnVtYmVyKGdyaWRDb2x1bW5zKSAqIE51bWJlcihncmlkUm93cykgLSBHbVNjcmVlbkRhdGFNYW5hZ2VyLmdldE51bU9jY3VwaWVkQ2VsbHMoZ3JpZCk7XG4gICAgY29uc3QgZW1wdHlDZWxsczogUGFydGlhbDxHbVNjcmVlbkdyaWRFbnRyeT5bXSA9XG4gICAgICBlbXB0eUNlbGxzTnVtID4gMCA/IFsuLi5uZXcgQXJyYXkoZW1wdHlDZWxsc051bSldLm1hcCgoKSA9PiAoe30pKSA6IFtdO1xuXG4gICAgcmV0dXJuIFsuLi5PYmplY3QudmFsdWVzKGdyaWQuZW50cmllcyksIC4uLmVtcHR5Q2VsbHNdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBuZXcgZW50cnkgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgZ3JpZFxuICAgKi9cbiAgYWRkRW50cnlUb0FjdGl2ZUdyaWQobmV3RW50cnk6IEdtU2NyZWVuR3JpZEVudHJ5KSB7XG4gICAgaWYgKCFnYW1lLnVzZXI/LmlzR00pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgYmUgYSBHTSB1c2VyIHRvIGVkaXQgYSBHcmlkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3RW50cmllcyA9IHsgLi4udGhpcy5hY3RpdmVHbUdyaWQuZW50cmllcyB9O1xuXG4gICAgbmV3RW50cmllc1tuZXdFbnRyeS5lbnRyeUlkXSA9IHtcbiAgICAgIC4uLm5ld0VudHJpZXNbbmV3RW50cnkuZW50cnlJZF0sXG4gICAgICAuLi5uZXdFbnRyeSxcbiAgICB9O1xuXG4gICAgY29uc3QgbmV3R3JpZERhdGE6IEdtU2NyZWVuR3JpZCA9IHtcbiAgICAgIC4uLnRoaXMuYWN0aXZlR21HcmlkLFxuICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICB9O1xuXG4gICAgbG9nKGZhbHNlLCAnYWRkRW50cnlUb0FjdGl2ZUdyaWQnLCB7XG4gICAgICBhY3RpdmVHbUdyaWREYXRhOiB0aGlzLmFjdGl2ZUdtR3JpZCxcbiAgICAgIG5ld0VudHJpZXMsXG4gICAgICBuZXdFbnRyeSxcbiAgICAgIG5ld0dyaWREYXRhLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0R3JpZERhdGEobmV3R3JpZERhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGdpdmVuIGVudHJ5IGZyb20gdGhlIEFjdGl2ZSBHcmlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbnRyeUlkIC0gZW50cnkgdG8gcmVtb3ZlIGZyb20gdGhlIGFjdGl2ZSBncmlkJ3MgZW50cmllc1xuICAgKi9cbiAgcmVtb3ZlRW50cnlGcm9tQWN0aXZlR3JpZChlbnRyeUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjbGVhcmVkQ2VsbCA9IGZvdW5kcnkudXRpbHMuZGVlcENsb25lKHRoaXMuYWN0aXZlR21HcmlkLmVudHJpZXNbZW50cnlJZF0pO1xuICAgIGNvbnN0IHNob3VsZEtlZXBDZWxsTGF5b3V0ID0gY2xlYXJlZENlbGwuc3BhbkNvbHMgfHwgY2xlYXJlZENlbGwuc3BhblJvd3M7XG5cbiAgICBjb25zdCBuZXdFbnRyaWVzID0ge1xuICAgICAgLi4udGhpcy5hY3RpdmVHbUdyaWQuZW50cmllcyxcbiAgICB9O1xuXG4gICAgaWYgKHNob3VsZEtlZXBDZWxsTGF5b3V0KSB7XG4gICAgICBkZWxldGUgY2xlYXJlZENlbGwuZW50aXR5VXVpZDtcbiAgICAgIG5ld0VudHJpZXNbZW50cnlJZF0gPSBjbGVhcmVkQ2VsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIG5ld0VudHJpZXNbZW50cnlJZF07XG4gICAgfVxuXG4gICAgY29uc3QgbmV3R3JpZERhdGE6IEdtU2NyZWVuR3JpZCA9IHtcbiAgICAgIC4uLnRoaXMuYWN0aXZlR21HcmlkLFxuICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogVGhpcyBuZWVkcyB0byBjbG9zZSB0aGUgb3BlbiBlbnRyeSBhcHBsaWNhdGlvbnMoPylcbiAgICByZXR1cm4gdGhpcy5zZXRHcmlkRGF0YShuZXdHcmlkRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbnkgY2VsbCBvdmVybGFwIHByb2JsZW1zIHRoYXQgbmV3IGdyaWQgZW50cnkgZGF0YSBtaWdodCBpbnRyb2R1Y2VcbiAgICovXG4gIGVkaXRDZWxsSW5BY3RpdmVHcmlkKGdyaWRFbnRyeTogR21TY3JlZW5HcmlkRW50cnkpIHtcbiAgICBjb25zdCBuZXdFbnRyaWVzID0ge1xuICAgICAgLi4udGhpcy5hY3RpdmVHbUdyaWQuZW50cmllcyxcbiAgICAgIFtncmlkRW50cnkuZW50cnlJZF06IGdyaWRFbnRyeSxcbiAgICB9O1xuXG4gICAgLy8gYmFzZWQgb24gdGhlIFgsIFksIGFuZCBTcGFuIHZhbHVlcyBvZiBgbmV3Q2VsbGAgZmluZCBhbGwgcHJvYmxlbWF0aWMgZW50cnlJZHNcbiAgICAvLyBCUklUVExFIGlmIGVudHJ5SWQncyBmb3JtdWxhIGNoYW5nZXNcbiAgICBjb25zdCBwcm9ibGVtQ29vcmRpbmF0ZXMgPSBbLi4uQXJyYXkoZ3JpZEVudHJ5LnNwYW5Db2xzKS5rZXlzKCldXG4gICAgICAubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9ibGVtWCA9IGdyaWRFbnRyeS54ICsgaW5kZXg7XG5cbiAgICAgICAgcmV0dXJuIFsuLi5BcnJheShncmlkRW50cnkuc3BhblJvd3MpLmtleXMoKV0ubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByb2JsZW1ZID0gZ3JpZEVudHJ5LnkgKyBpbmRleDtcbiAgICAgICAgICByZXR1cm4gYCR7cHJvYmxlbVh9LSR7cHJvYmxlbVl9YDsgLy8gcHJvYmxlbSBjZWxsJ3MgaWRcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmZsYXQoKTtcblxuICAgIGxvZyhmYWxzZSwge1xuICAgICAgcHJvYmxlbUNvb3JkaW5hdGVzLFxuICAgIH0pO1xuXG4gICAgLy8gZ2V0IGFueSBvdmVybGFwcGVkIGNlbGxzIGFuZCByZW1vdmUgdGhlbVxuICAgIE9iamVjdC52YWx1ZXMobmV3RW50cmllcykuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChwcm9ibGVtQ29vcmRpbmF0ZXMuaW5jbHVkZXMoZW50cnkuZW50cnlJZCkgJiYgZW50cnkuZW50cnlJZCAhPT0gZ3JpZEVudHJ5LmVudHJ5SWQpIHtcbiAgICAgICAgZGVsZXRlIG5ld0VudHJpZXNbZW50cnkuZW50cnlJZF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsb2coZmFsc2UsICduZXdFbnRyaWVzJywgbmV3RW50cmllcyk7XG5cbiAgICBjb25zdCBuZXdHcmlkRGF0YSA9IHtcbiAgICAgIC4uLnRoaXMuYWN0aXZlR21HcmlkLFxuICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0R3JpZERhdGEobmV3R3JpZERhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIERvdWJsZSBjb25maXJtcyBDbGVhcmluZyB0aGUgQWN0aXZlIEdyaWRcbiAgICovXG4gIGNsZWFyQWN0aXZlR3JpZCA9ICgpID0+IHtcbiAgICBsb2coZmFsc2UsICdjbGVhckFjdGl2ZUdyaWQnKTtcblxuICAgIHJldHVybiBEaWFsb2cuY29uZmlybSh7XG4gICAgICB0aXRsZTogZ2FtZS5pMThuLmxvY2FsaXplKGAke01PRFVMRV9BQkJSRVZ9Lndhcm5pbmdzLmNsZWFyQ29uZmlybS5UaXRsZWApLFxuICAgICAgY29udGVudDogZ2FtZS5pMThuLmxvY2FsaXplKGAke01PRFVMRV9BQkJSRVZ9Lndhcm5pbmdzLmNsZWFyQ29uZmlybS5Db250ZW50YCksXG4gICAgICB5ZXM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0R3JpZERhdGEoe1xuICAgICAgICAgIC4uLnRoaXMuYWN0aXZlR21HcmlkLFxuICAgICAgICAgIGVudHJpZXM6IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiogIFNUQVRJQyBIRUxQRVJTICAqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogR2l2ZW4gdGhlIHNldCBvZiBzZXR0aW5ncyBkYXRhLCByZXR1cm4gb25seSB0aGUgZ3JpZHMgdmlzaWJsZSB0byB0aGlzIHVzZXJcbiAgICovXG4gIHN0YXRpYyBnZXRVc2VyVmlzaWJsZUdyaWRzRnJvbVNldHRpbmdzRGF0YSh7IGdyaWRzIH06IEdtU2NyZWVuU2V0dGluZ3NEYXRhKSB7XG4gICAgaWYgKCFnYW1lLnVzZXIpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBpZiAoZ2FtZS51c2VyPy5pc0dNKSB7XG4gICAgICByZXR1cm4gZ3JpZHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhncmlkcykuZmlsdGVyKChbX2dyaWRJZCwgZ3JpZERhdGFdKSA9PiBncmlkRGF0YS5pc1NoYXJlZCkpO1xuICB9XG5cbiAgLyoqIENhbHVsYXRlcyBob3cgbWFueSBjZWxscyBhcmUgb2NjdXBpZWQgZm9yIGEgZ2l2ZW4gZ3JpZCAqL1xuICBzdGF0aWMgZ2V0TnVtT2NjdXBpZWRDZWxscyhncmlkOiBHbVNjcmVlbkdyaWQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhncmlkLmVudHJpZXMpLnJlZHVjZSgoYWNjLCBlbnRyeSkgPT4ge1xuICAgICAgY29uc3QgY2VsbHNUYWtlbiA9IChlbnRyeS5zcGFuQ29scyB8fCAxKSAqIChlbnRyeS5zcGFuUm93cyB8fCAxKTtcbiAgICAgIHJldHVybiBhY2MgKyBjZWxsc1Rha2VuO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgbWV0aG9kIHRvIGhlbHAgdHlwZXNjcmlwdCB1bmRlcnN0YW5kIHRoYXQgdGhlc2UgYXJlIG9ubHlcbiAgICogYWN0b3JzLCBpdGVtcywgam91cm5hbHMsIG9yIHJvbGx0YWJsZXNcbiAgICpcbiAgICogQHBhcmFtIGVudGl0eVV1aWQgLSByZWxldmFudCBlbnRpdHlVdWlkXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0UmVsZXZhbnRHbVNjcmVlbkRvY3VtZW50KGVudGl0eVV1aWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHJlbGV2YW50RG9jdW1lbnQgPSBhd2FpdCBmcm9tVXVpZChlbnRpdHlVdWlkKTtcblxuICAgIGlmIChcbiAgICAgICEoXG4gICAgICAgIHJlbGV2YW50RG9jdW1lbnQgaW5zdGFuY2VvZiBBY3RvciB8fFxuICAgICAgICByZWxldmFudERvY3VtZW50IGluc3RhbmNlb2YgSXRlbSB8fFxuICAgICAgICByZWxldmFudERvY3VtZW50IGluc3RhbmNlb2YgSm91cm5hbEVudHJ5IHx8XG4gICAgICAgIHJlbGV2YW50RG9jdW1lbnQgaW5zdGFuY2VvZiBKb3VybmFsRW50cnlQYWdlIHx8XG4gICAgICAgIHJlbGV2YW50RG9jdW1lbnQgaW5zdGFuY2VvZiBSb2xsVGFibGVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVsZXZhbnREb2N1bWVudDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR21TY3JlZW4gfSBmcm9tICcuLi9HbVNjcmVlbic7XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0Um9sbFRhYmxlRGlzcGxheSBleHRlbmRzIFJvbGxUYWJsZUNvbmZpZyB7XG4gIGdldCBpc0VkaXRhYmxlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIGZvdW5kcnkudXRpbHMubWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgIHRlbXBsYXRlOiBHbVNjcmVlbi5URU1QTEFURVMuY29tcGFjdFJvbGxUYWJsZSxcbiAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgIHBvcE91dDogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBnZXREYXRhKCkge1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IHN1cGVyLmdldERhdGEoKTtcblxuICAgIGlmIChzaGVldERhdGEgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gc2hlZXREYXRhO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJvbGx0YWJsZS5SZXN1bHQgYW5kIFJlc3VsdHMgd3JvbmdcbiAgICBjb25zdCBlbnJpY2hlZFJlc3VsdHMgPSAoc2hlZXREYXRhLnJlc3VsdHMgYXMgdW5rbm93biBhcyBSb2xsVGFibGVDb25maWcuRGF0YVsncmVzdWx0cyddW10pLm1hcChcbiAgICAgIChyZXN1bHQ6IFJvbGxUYWJsZUNvbmZpZy5EYXRhWydyZXN1bHRzJ10pID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLl9nZXRMYWJlbEZyb21SZXN1bHQocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4geyAuLi5zaGVldERhdGEsIGVucmljaGVkUmVzdWx0cyB9O1xuICB9XG5cbiAgYXN5bmMgX3JvbGxPblRhYmxlKCkge1xuICAgIGNvbnN0IHJvbGxUYWJsZSA9IHRoaXMuZG9jdW1lbnQgYXMgUm9sbFRhYmxlO1xuICAgIGF3YWl0IHJvbGxUYWJsZS5kcmF3KCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRMYWJlbEZyb21SZXN1bHQocmVzdWx0OiBUYWJsZVJlc3VsdCk6IHN0cmluZyB7XG4gICAgbGV0IGxhYmVsOiBzdHJpbmc7XG5cbiAgICBzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gICAgICBjYXNlIENPTlNULlRBQkxFX1JFU1VMVF9UWVBFUy5DT01QRU5ESVVNOiB7XG4gICAgICAgIGxhYmVsID0gYEBDb21wZW5kaXVtWyR7cmVzdWx0LmRvY3VtZW50Q29sbGVjdGlvbn0uJHtyZXN1bHQuZG9jdW1lbnRJZH1deyR7cmVzdWx0LnRleHR9fWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDT05TVC5UQUJMRV9SRVNVTFRfVFlQRVMuRU5USVRZOiB7XG4gICAgICAgIGxhYmVsID0gYEAke3Jlc3VsdC5kb2N1bWVudENvbGxlY3Rpb259WyR7cmVzdWx0LmRvY3VtZW50SWR9XXske3Jlc3VsdC50ZXh0fX1gO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxhYmVsID0gcmVzdWx0LnRleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHbVNjcmVlbkdyaWRFbnRyeSB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IE1PRFVMRV9JRCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRVc2VyQ2VsbENvbmZpZ3VyYXRpb25JbnB1dCwgbG9nIH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgeyBDb21wYWN0Um9sbFRhYmxlRGlzcGxheSB9IGZyb20gJy4vRG9jdW1lbnRTaGVldHMvQ29tcGFjdFJvbGxUYWJsZVNoZWV0JztcbmltcG9ydCB7IEdtU2NyZWVuIH0gZnJvbSAnLi9HbVNjcmVlbic7XG5pbXBvcnQgeyBHbVNjcmVlbkRhdGFNYW5hZ2VyIH0gZnJvbSAnLi9HbVNjcmVlbkRhdGEnO1xuXG5pbnRlcmZhY2UgU2hlZXRDbGFzc0RlZmluaXRpb24ge1xuICBjbHM6IERvY3VtZW50U2hlZXQ7XG4gIGRlZmF1bHQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogSGVscGVycyB0byBtYWtlIGludGVyYWN0aW5nIHdpdGggb3IgcmVuZGVyaW5nIGEgZ2l2ZW4gR3JpZEVudHJ5IGVhc2llclxuICogVE9ETzogU2hvdWxkIHRoaXMgYmUgaXQncyBvd24gY2xhc3MgdGhhdCBpcyBjcmVhdGVkIGZvciBlYWNoIGNlbGw/XG4gKi9cbmV4cG9ydCBjbGFzcyBHbVNjcmVlbkNlbGwge1xuICAvKipcbiAgICogQXBwbHkgb3ZlcnJpZGVzIHRvIG1ha2UgdGhpcyBncmlkIGVudHJ5IHJlbmRlciBpbnNpZGUgdGhlIHByb3ZpZGVkIGNlbGxJZFxuICAgKiBNVVRBVEVTIFNoZWV0Q2xhc3NcbiAgICogQlJJVFRMRVxuICAgKi9cbiAgc3RhdGljIGFwcGx5R21TY3JlZW5DZWxsU2hlZXRPdmVycmlkZXMoU2hlZXRDbGFzczogRG9jdW1lbnRTaGVldCwgY2VsbElkOiBzdHJpbmcpIHtcbiAgICBTaGVldENsYXNzLm9wdGlvbnMuZWRpdGFibGUgPSBmYWxzZTtcbiAgICBTaGVldENsYXNzLm9wdGlvbnMucG9wT3V0ID0gZmFsc2U7XG4gICAgLy9AdHMtZXhwZWN0LWVycm9yIFllYWggSSBrbm93IHRoaXMgaXNuJ3QgdGhlIGJlc3QgaWRlYVxuICAgIFNoZWV0Q2xhc3MuY2VsbElkID0gY2VsbElkO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNoZWV0Q2xhc3MsICdpc0VkaXRhYmxlJywgeyB2YWx1ZTogZmFsc2UgfSk7XG5cbiAgICAvL0B0cy1leHBlY3QtZXJyb3IgWWVhaCBJIGtub3cgdGhpcyBpc24ndCB0aGUgYmVzdCBpZGVhXG4gICAgU2hlZXRDbGFzcy5faW5qZWN0SFRNTCA9IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAvL0B0cy1leHBlY3QtZXJyb3IgSSBpbmplY3QgY2VsbElkXG4gICAgICAkKHRoaXMuY2VsbElkKS5maW5kKCcuZ20tc2NyZWVuLWdyaWQtY2VsbC10aXRsZScpLnRleHQodGhpcy50aXRsZSk7XG5cbiAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciBJIGluamVjdCBjZWxsSWRcbiAgICAgIGNvbnN0IGdyaWRDZWxsQ29udGVudCA9ICQodGhpcy5jZWxsSWQpLmZpbmQoJy5nbS1zY3JlZW4tZ3JpZC1jZWxsLWNvbnRlbnQnKTtcblxuICAgICAgbG9nKGZhbHNlLCAnQ29tcGFjdEVudGl0eVNoZWV0IG92ZXJ3cml0dGVuIF9pbmplY3RIVE1MJywge1xuICAgICAgICB0YXJnZXRFbGVtZW50OiBncmlkQ2VsbENvbnRlbnQsXG4gICAgICAgIGdyaWRDZWxsQ29udGVudCxcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yIEkgaW5qZWN0IGNlbGxJZFxuICAgICAgICBjZWxsSWQ6IHRoaXMuY2VsbElkLFxuICAgICAgICBodG1sLFxuICAgICAgfSk7XG4gICAgICBncmlkQ2VsbENvbnRlbnQuYXBwZW5kKGh0bWwpO1xuICAgICAgLy9AdHMtZXhwZWN0LWVycm9yIFllYWggSSBrbm93IHRoaXMgaXNuJ3QgdGhlIGJlc3QgaWRlYVxuICAgICAgdGhpcy5fZWxlbWVudCA9IGh0bWw7XG4gICAgfTtcblxuICAgIC8vQHRzLWV4cGVjdC1lcnJvciBZZWFoIEkga25vdyB0aGlzIGlzbid0IHRoZSBiZXN0IGlkZWFcbiAgICBTaGVldENsYXNzLl9yZXBsYWNlSFRNTCA9IGZ1bmN0aW9uIChlbGVtZW50LCBodG1sLCBvcHRpb25zKSB7XG4gICAgICAvL0B0cy1leHBlY3QtZXJyb3IgSSBpbmplY3QgY2VsbElkXG4gICAgICAkKHRoaXMuY2VsbElkKS5maW5kKCcuZ20tc2NyZWVuLWdyaWQtY2VsbC10aXRsZScpLnRleHQodGhpcy50aXRsZSk7XG5cbiAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciBJIGluamVjdCBjZWxsSWRcbiAgICAgIGNvbnN0IGdyaWRDZWxsQ29udGVudCA9ICQodGhpcy5jZWxsSWQpLmZpbmQoJy5nbS1zY3JlZW4tZ3JpZC1jZWxsLWNvbnRlbnQnKTtcbiAgICAgIGdyaWRDZWxsQ29udGVudC5odG1sKGh0bWwpO1xuICAgICAgLy9AdHMtZXhwZWN0LWVycm9yIFllYWggSSBrbm93IHRoaXMgaXNuJ3QgdGhlIGJlc3QgaWRlYVxuICAgICAgdGhpcy5fZWxlbWVudCA9IGh0bWw7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRhaW4gdGhlIEZvcm1BcHBsaWNhdGlvbiBjbGFzcyBjb25zdHJ1Y3RvciB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBkaXNwbGF5IHRoaXMgRG9jdW1lbnQgaW4gdGhlIEdtIFNjcmVlbi5cbiAgICogQWRhcHRlZCBmcm9tIGBDbGllbnREb2N1bWVudE1peGluLl9nZXRTaGVldENsYXNzYFxuICAgKi9cbiAgc3RhdGljIF9nZXRHcmlkRW50cnlTaGVldENsYXNzKGRvY3VtZW50OiBBY3RvciB8IEl0ZW0gfCBKb3VybmFsRW50cnkgfCBSb2xsVGFibGUpIHtcbiAgICBjb25zdCBjZmcgPSBDT05GSUdbZG9jdW1lbnQuZG9jdW1lbnROYW1lXTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgJ3R5cGUnIGlzIGV4cGVjdGVkIHRvIGJlIHVuZGVmaW5lZCBzb21ldGltZXNcbiAgICAvLyB0aGlzIGRvY3VtZW50J3MgdHlwZSAob3IgXCJiYXNlXCIpXG4gICAgY29uc3QgdHlwZTogc3RyaW5nID0gZG9jdW1lbnQudHlwZSB8fCBDT05TVC5CQVNFX0RPQ1VNRU5UX1RZUEU7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yICdzaGVldENsYXNzZXMnIGlzIGV4cGVjdGVkIHRvIGV4aXN0XG4gICAgLy8gdGhpcyBkb2N1bWVudCB0eXBlJ3Mgc2hlZXQgZGVmaW5pdGlvbnNcbiAgICBjb25zdCBkb2N1bWVudFR5cGVTaGVldHM6IFJlY29yZDxzdHJpbmcsIFNoZWV0Q2xhc3NEZWZpbml0aW9uPiA9IGNmZy5zaGVldENsYXNzZXNbdHlwZV0gfHwge307XG5cbiAgICBjb25zdCBnbVNjcmVlbk92ZXJyaWRlID0gZG9jdW1lbnQuZ2V0RmxhZyhNT0RVTEVfSUQsIEdtU2NyZWVuLkZMQUdTLmdtU2NyZWVuU2hlZXRDbGFzcykgYXMgc3RyaW5nO1xuXG4gICAgY29uc3QgY29yZU92ZXJyaWRlID0gZG9jdW1lbnQuZ2V0RmxhZygnY29yZScsICdzaGVldENsYXNzJykgYXMgc3RyaW5nO1xuXG4gICAgLy8gaWYgdGhlcmUncyBhIGdtIHNjcmVlbiBvdmVycmlkZSBkZWZpbmVkLCB1c2UgdGhhdFxuICAgIGlmIChkb2N1bWVudFR5cGVTaGVldHNbZ21TY3JlZW5PdmVycmlkZV0pIHJldHVybiBkb2N1bWVudFR5cGVTaGVldHNbZ21TY3JlZW5PdmVycmlkZV0uY2xzO1xuXG4gICAgLy8gaWYgdGhlcmUncyBhIGNvcmUgb3ZlcnJpZGUgZGVmaW5lZCwgdXNlIHRoYXRcbiAgICBpZiAoZG9jdW1lbnRUeXBlU2hlZXRzW2NvcmVPdmVycmlkZV0pIHJldHVybiBkb2N1bWVudFR5cGVTaGVldHNbY29yZU92ZXJyaWRlXS5jbHM7XG5cbiAgICAvLyBhbGwgb2YgdGhlIHNoZWV0IGNsYXNzIGRlZmluaXRpb25zIGZvciB0aGlzIGRvY3VtZW50J3MgdHlwZVxuICAgIGNvbnN0IHBvc3NpYmxlU2hlZXREZWZpbml0aW9ucyA9IE9iamVjdC52YWx1ZXMoZG9jdW1lbnRUeXBlU2hlZXRzKTtcbiAgICBpZiAoIXBvc3NpYmxlU2hlZXREZWZpbml0aW9ucy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgLy8gVE9ETzogQWRkIFwiR00gU2NyZWVuIERlZmF1bHQgU2hlZXQgQ2xhc3NcIlxuXG4gICAgY29uc3QgY29yZURlZmF1bHRTaGVldENsYXNzID0gKHBvc3NpYmxlU2hlZXREZWZpbml0aW9ucy5maW5kKChzKSA9PiBzLmRlZmF1bHQpID8/IHBvc3NpYmxlU2hlZXREZWZpbml0aW9ucy5wb3AoKSlcbiAgICAgID8uY2xzO1xuXG4gICAgLy8gSSBoYXZlIG5vIGlkZWEgaG93IHRvIGluY29ycG9yYXRlIHRoaXMgaW50byB0aGUgc2hlZXQgZW51bSBpbiBhIG5pY2Ugd2F5XG4gICAgaWYgKGRvY3VtZW50IGluc3RhbmNlb2YgUm9sbFRhYmxlKSB7XG4gICAgICByZXR1cm4gQ29tcGFjdFJvbGxUYWJsZURpc3BsYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvcmVEZWZhdWx0U2hlZXRDbGFzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHVzZXIgaW5wdXRzIGFib3V0IGhvdyBhIGNlbGwgc2hvdWxkIGNoYW5nZSAocm93IGFuZCBjb2x1bW4gc3BhbilcbiAgICogc3VibWl0cyB0aGF0IGFzIGFuIGVkaXRcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfb25Db25maWd1cmVHcmlkRW50cnkoeyB4LCB5IH06IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSwgZW50cnlJZD86IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBsZXQgZW50cnlUb0NvbmZpZ3VyZTogR21TY3JlZW5HcmlkRW50cnkgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGVudHJ5SWQ6IGAke3h9LSR7eX1gLFxuICAgICAgfTtcblxuICAgICAgaWYgKGVudHJ5SWQpIHtcbiAgICAgICAgZW50cnlUb0NvbmZpZ3VyZSA9IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFjdGl2ZUdtR3JpZC5lbnRyaWVzW2VudHJ5SWRdO1xuICAgICAgfVxuXG4gICAgICBsb2coZmFsc2UsICdjb25maWd1cmVDZWxsIGNlbGxUb0NvbmZpZ3VyZScsIGVudHJ5VG9Db25maWd1cmUpO1xuXG4gICAgICBjb25zdCB7IG5ld1NwYW5Sb3dzLCBuZXdTcGFuQ29scyB9ID0gYXdhaXQgZ2V0VXNlckNlbGxDb25maWd1cmF0aW9uSW5wdXQoZW50cnlUb0NvbmZpZ3VyZSwge1xuICAgICAgICByb3dzOiBHbVNjcmVlbi5kYXRhTWFuYWdlci5hY3RpdmVHbUdyaWQucm93T3ZlcnJpZGUgPz8gR21TY3JlZW4uZGF0YU1hbmFnZXIuYXBwbGljYXRpb25EYXRhLnJvd3MsXG4gICAgICAgIGNvbHVtbnM6IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFjdGl2ZUdtR3JpZC5jb2x1bW5PdmVycmlkZSA/PyBHbVNjcmVlbi5kYXRhTWFuYWdlci5hcHBsaWNhdGlvbkRhdGEuY29sdW1ucyxcbiAgICAgIH0pO1xuXG4gICAgICBsb2coZmFsc2UsICduZXcgc3BhbiB2YWx1ZXMgZnJvbSBkaWFsb2cnLCB7XG4gICAgICAgIG5ld1NwYW5Sb3dzLFxuICAgICAgICBuZXdTcGFuQ29scyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBuZXdFbnRyeSA9IHtcbiAgICAgICAgLi4uZW50cnlUb0NvbmZpZ3VyZSxcbiAgICAgICAgc3BhblJvd3M6IG5ld1NwYW5Sb3dzLFxuICAgICAgICBzcGFuQ29sczogbmV3U3BhbkNvbHMsXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gR21TY3JlZW4uZGF0YU1hbmFnZXIuZWRpdENlbGxJbkFjdGl2ZUdyaWQobmV3RW50cnkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZyhmYWxzZSwgJ1VzZXIgZXhpdGVkIGNvbmZpZ3VyZSBjZWxsIERpYWxvZy4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIFwib3BlblwiIGNsaWNrcyB0byByZW5kZXIgdGhlIG9yaWdpbmFsIGRvY3VtZW50J3Mgc2hlZXQgbm9ybWFsbHlcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfb25DbGlja09wZW4oZW50aXR5VXVpZD86IHN0cmluZykge1xuICAgIGlmICghZW50aXR5VXVpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWxldmFudERvY3VtZW50ID0gYXdhaXQgR21TY3JlZW5EYXRhTWFuYWdlci5nZXRSZWxldmFudEdtU2NyZWVuRG9jdW1lbnQoZW50aXR5VXVpZCk7XG4gICAgICBjb25zdCByZWxldmFudERvY3VtZW50U2hlZXQgPSByZWxldmFudERvY3VtZW50Py5zaGVldDtcbiAgICAgIGxvZyhmYWxzZSwgJ3RyeWluZyB0byBlZGl0IGVudGl0eScsIHsgcmVsZXZhbnRFbnRpdHlTaGVldDogcmVsZXZhbnREb2N1bWVudFNoZWV0IH0pO1xuXG4gICAgICBpZiAoIXJlbGV2YW50RG9jdW1lbnRTaGVldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzaGVldCBpcyBhbHJlYWR5IHJlbmRlcmVkOlxuICAgICAgaWYgKHJlbGV2YW50RG9jdW1lbnRTaGVldC5yZW5kZXJlZCkge1xuICAgICAgICByZWxldmFudERvY3VtZW50U2hlZXQuYnJpbmdUb1RvcCgpO1xuICAgICAgICByZXR1cm4gcmVsZXZhbnREb2N1bWVudFNoZWV0Lm1heGltaXplKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSByZW5kZXIgdGhlIHJlbGV2YW50RG9jdW1lbnRTaGVldFxuICAgICAgZWxzZSByZWxldmFudERvY3VtZW50U2hlZXQucmVuZGVyKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2codHJ1ZSwgJ2Vycm9yIG9wZW5pbmcgZW50aXR5IHNoZWV0JywgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgR21TY3JlZW5HcmlkRW50cnkgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBNT0RVTEVfQUJCUkVWLCBNT0RVTEVfSUQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgbG9nLCB1cGRhdGVDU1NQcm9wZXJ0eVZhcmlhYmxlIH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgeyBHbVNjcmVlbkNlbGwgfSBmcm9tICcuL0dtU2NyZWVuQ2VsbCc7XG5pbXBvcnQgeyBHbVNjcmVlbiB9IGZyb20gJy4vR21TY3JlZW4nO1xuaW1wb3J0IHsgR21TY3JlZW5EYXRhTWFuYWdlciB9IGZyb20gJy4vR21TY3JlZW5EYXRhJztcbmltcG9ydCB7IEdtU2NyZWVuU2V0dGluZ3NDb25maWcgfSBmcm9tICcuL0dtU2NyZWVuU2V0dGluZ3NDb25maWcnO1xuaW1wb3J0IHsgQ29tcGFjdFJvbGxUYWJsZURpc3BsYXkgfSBmcm9tICcuL0RvY3VtZW50U2hlZXRzL0NvbXBhY3RSb2xsVGFibGVTaGVldCc7XG5cbmVudW0gQ2xpY2tBY3Rpb24ge1xuICAnY2xlYXJHcmlkJyA9ICdjbGVhckdyaWQnLFxuICAncmVmcmVzaCcgPSAncmVmcmVzaCcsXG4gICdjbGVhckNlbGwnID0gJ2NsZWFyQ2VsbCcsXG4gICdjb25maWd1cmVDZWxsJyA9ICdjb25maWd1cmVDZWxsJyxcbiAgJ29wZW4nID0gJ29wZW4nLFxuICAndG9nZ2xlLWdtLXNjcmVlbicgPSAndG9nZ2xlLWdtLXNjcmVlbicsXG4gICdzZXRBY3RpdmVHcmlkSWQnID0gJ3NldEFjdGl2ZUdyaWRJZCcsXG4gICdyb2xsdGFibGUnID0gJ3JvbGx0YWJsZScsXG4gICdyb2xsdGFibGUtcmVzZXQnID0gJ3JvbGx0YWJsZS1yZXNldCcsXG59XG5cbnR5cGUgR21TY3JlZW5BcHAgPSBBY3RvclNoZWV0IHwgSXRlbVNoZWV0IHwgSm91cm5hbFNoZWV0IHwgUm9sbFRhYmxlQ29uZmlnO1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgY2xhc3MgR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgLyoqIENhY2hlIG9mIGFwcGxpY2F0aW9ucyByZW5kZXJlZCB3aXRoaW4gdGhpcyBnbSBzY3JlZW4gKi9cbiAgYXBwczogUmVjb3JkPHN0cmluZywgR21TY3JlZW5BcHA+O1xuICBkcmFnZ2VkVGFiOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLmFwcHMgPSB7fTtcbiAgfVxuXG4gIC8qKiBDb25maWd1cmVzIHRoZSBTY3JvbGxZLCBHTSBEcmFnL0Ryb3AsIGFuZCBUYWJzIGZvciBhbGwgdXNlIGNhc2VzICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKTogQXBwbGljYXRpb25PcHRpb25zIHtcbiAgICBjb25zdCB7XG4gICAgICBncmlkcyxcbiAgICAgIGFjdGl2ZUdtR3JpZElkLFxuICAgICAgYXBwbGljYXRpb25EYXRhOiB7IGNvbHVtbnMsIHJvd3MgfSxcbiAgICB9ID0gR21TY3JlZW4uZGF0YU1hbmFnZXI7XG5cbiAgICAvLyBzZXQgYWxsIG9mIHRoZSBjZWxscyBvZiBhbGwgdGhlIGdyaWRzIHRvIGJlIHNjcm9sbFkgbWFuYWdlZFxuICAgIGNvbnN0IHNjcm9sbFkgPSBPYmplY3Qua2V5cyhncmlkcykucmVkdWNlKChhY2MsIGdyaWRLZXkpID0+IHtcbiAgICAgIGNvbnN0IGdyaWRDb2x1bW5zID0gZ3JpZHNbZ3JpZEtleV0uY29sdW1uT3ZlcnJpZGUgPz8gY29sdW1ucztcbiAgICAgIGNvbnN0IGdyaWRSb3dzID0gZ3JpZHNbZ3JpZEtleV0ucm93T3ZlcnJpZGUgPz8gcm93cztcblxuICAgICAgY29uc3QgdG90YWxDZWxscyA9IE51bWJlcihncmlkQ29sdW1ucykgKiBOdW1iZXIoZ3JpZFJvd3MpO1xuXG4gICAgICBjb25zdCBncmlkS2V5U2Nyb2xsWSA9IFsuLi5uZXcgQXJyYXkodG90YWxDZWxscyldLm1hcChcbiAgICAgICAgKF8sIGluZGV4KSA9PiBgI2dtLXNjcmVlbi0ke2dyaWRLZXl9LWNlbGwtJHtpbmRleH0gLmdtLXNjcmVlbi1ncmlkLWNlbGwtY29udGVudGAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGFjYy5jb25jYXQoZ3JpZEtleVNjcm9sbFkpO1xuICAgIH0sIFtdIGFzIHN0cmluZ1tdKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLihnYW1lLnVzZXI/LmlzR01cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBkcmFnRHJvcDogW3sgZHJvcFNlbGVjdG9yOiAnLmdtLXNjcmVlbi1ncmlkLWNlbGwnIH1dLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgdGFiczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmF2U2VsZWN0b3I6ICcuZ20tc2NyZWVuLXRhYnMnLFxuICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5nbS1zY3JlZW4tYXBwJyxcbiAgICAgICAgICBpbml0aWFsOiBhY3RpdmVHbUdyaWRJZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICB0ZW1wbGF0ZTogR21TY3JlZW4uVEVNUExBVEVTLnNjcmVlbixcbiAgICAgIGlkOiAnZ20tc2NyZWVuLWFwcCcsXG4gICAgICBzY3JvbGxZLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBjdXJyZW50bHkgdGhpbmx5IHdyYXBzIGB0aGlzLnJlbmRlcmAsIGJ1dCBtaWdodCBiZSBtb3JlIGNvbXBsaWNhdGVkIGluIHRoZSBmdXR1cmUuXG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogSHlkcmF0ZXMgYWxsIHZpc2libGUgZ3JpZHMgd2l0aCBlbXB0eSBjZWxscyBpbiB0aGUgZm9ybWF0IHRoZSBoYW5kbGViYXJzIGZpbGVzIHdhbnRzIHRvIGRpc3BsYXlcbiAgICovXG4gIGdldCBoeWRyYXRlZEdyaWRFbnRyaWVzKCkge1xuICAgIGNvbnN0IGdyaWRzID0gR21TY3JlZW4uZGF0YU1hbmFnZXIuZ3JpZHM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoZ3JpZHMpLm1hcCgoW2dyaWRJZCwgZ3JpZERhdGFdKSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgZ3JpZElkLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLmdyaWREYXRhLFxuICAgICAgICAgICAgZ3JpZEVudHJpZXM6IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmdldEh5ZHJhdGVkR3JpZEVudHJpZXMoZ3JpZERhdGEpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0RGF0YSgpIHtcbiAgICBjb25zdCB7IGFwcGxpY2F0aW9uRGF0YSwgaGFzVXNlclZpZXdhYmxlR3JpZHMgfSA9IEdtU2NyZWVuLmRhdGFNYW5hZ2VyO1xuXG4gICAgY29uc3QgbmV3QXBwRGF0YSA9IHtcbiAgICAgIC4uLnN1cGVyLmdldERhdGEoKSxcbiAgICAgIC4uLmFwcGxpY2F0aW9uRGF0YSxcbiAgICAgIGdyaWRzOiB0aGlzLmh5ZHJhdGVkR3JpZEVudHJpZXMsXG4gICAgICBpc0dNOiAhIWdhbWUudXNlcj8uaXNHTSxcbiAgICAgIGhpZGRlbjogIWhhc1VzZXJWaWV3YWJsZUdyaWRzLFxuICAgICAgZHJhd2VyTW9kZTogR21TY3JlZW4uZGF0YU1hbmFnZXIuZHJhd2VyTW9kZSxcbiAgICB9O1xuXG4gICAgbG9nKGZhbHNlLCAnZ2V0RGF0YScsIHtcbiAgICAgIG5ld0FwcERhdGEsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3QXBwRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFjdHVhbGx5IHJlbmRlcmluZyB0aGUgYXBwbGljYXRpb24sIHdlIHdhbnQgdG8gaW5qZWN0IG91ciBjZWxsc1xuICAgKiBhdCB0aGUgZW5kIG9mIHRoaXMgbWV0aG9kXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXN5bmMgX3JlbmRlciguLi5hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBhd2FpdCBzdXBlci5fcmVuZGVyKC4uLmFyZ3MpO1xuXG4gICAgLy8gc3RvcCBoZXJlIGlmIHRoZXJlJ3Mgbm8gdXNlci12aWV3YWJsZSBncmlkc1xuICAgIGlmICghR21TY3JlZW4uZGF0YU1hbmFnZXIuaGFzVXNlclZpZXdhYmxlR3JpZHMpIHtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGNvbnN0IGh0bWwgPSB0aGlzLmVsZW1lbnQ7XG4gICAgLy8gYWRkIG91ciBjZWxsIGNvbnRlbnRzIHRvIHRoZSB0ZW1wbGF0ZSBub3cgdGhhdCBvdXIgYXBwbGljYXRpb24gaXMgZG9uZSByZW5kZXJpbmdcbiAgICB0aGlzLmluamVjdENlbGxDb250ZW50cyhodG1sKTtcblxuICAgIC8vIHVwZGF0ZSBhIGZldyBhdHRyaWJ1dGVzIGluIHRoZSByZW5kZXJlZCBodG1sXG4gICAgY29uc3QgdmFuaWxsYUdyaWRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdtLXNjcmVlbi1ncmlkJyk7XG4gICAgaWYgKCF2YW5pbGxhR3JpZEVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFuaWxsYUdyaWRFbGVtZW50U3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZSh2YW5pbGxhR3JpZEVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbHMgPSB2YW5pbGxhR3JpZEVsZW1lbnRTdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucy5zcGxpdCgnICcpO1xuICAgIGNvbnN0IGNvbFdpZHRoID0gY29sc1swXTtcblxuICAgICQoaHRtbClcbiAgICAgIC5maW5kKCcuZ20tc2NyZWVuLWdyaWQnKVxuICAgICAgLmVhY2goKGksIGdyaWRFbGVtZW50KSA9PiB7XG4gICAgICAgIGdyaWRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWdyaWQtY2VsbC13aWR0aCcsIGNvbFdpZHRoKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gZW5mb3JjZSBjYWxjdWxhdGVkIHdpZHRoIHBlciBjZWxsLiB0aGlzIHJlcXVpcmVzIGEgcmVmcmVzaCBhZnRlciB3aW5kb3cgZGltZW5zaW9uIGNoYW5nZXMsIHRob3VnaFxuICAgIGNvbnN0IG51bWVyaWNDb2xXaWR0aDogbnVtYmVyID0gK2NvbFdpZHRoLnJlcGxhY2UoJ3B4JywgJycpO1xuICAgICQoaHRtbClcbiAgICAgIC5maW5kKCcuZ20tc2NyZWVuLWdyaWQtY2VsbCcpXG4gICAgICAuZWFjaCgoaSwgZ3JpZEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY29sdW1uU3BhbkNvdW50OiBudW1iZXIgPSArZ3JpZEVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2x1bW4tc3Bhbi1jb3VudCcpO1xuICAgICAgICBjb25zdCBncmlkRWxlbWVudFdpZHRoID0gbnVtZXJpY0NvbFdpZHRoICogY29sdW1uU3BhbkNvdW50O1xuICAgICAgICBncmlkRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCBncmlkRWxlbWVudFdpZHRoLnRvU3RyaW5nKCkgKyAncHgnKTtcbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY3RpdmF0ZUxpc3RlbmVycyhodG1sOiBKUXVlcnk8SFRNTEVsZW1lbnQ+KSB7XG4gICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG5cbiAgICBpZiAoZ2FtZS51c2VyPy5pc0dNKSB7XG4gICAgICB0aGlzLl9yZW9yZGVyRHJhZ0Ryb3BMaXN0ZW5lcnMoaHRtbCk7XG4gICAgfVxuXG4gICAgJCgnLmdtLXNjcmVlbi1idXR0b24nKS5vbignY29udGV4dG1lbnUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWcgPSBuZXcgR21TY3JlZW5TZXR0aW5nc0NvbmZpZygpO1xuICAgICAgY29uZmlnLnJlbmRlcih0cnVlKTtcbiAgICB9KTtcblxuICAgICQoaHRtbCkub24oJ2NsaWNrJywgJ2J1dHRvbicsIHRoaXMuaGFuZGxlQ2xpY2tFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAkKGh0bWwpLm9uKCdjbGljaycsICdhJywgdGhpcy5oYW5kbGVDbGlja0V2ZW50LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGFiaWxpdHkgdG8gcmUtb3JkZXIgdGFicyBpZiB0aGUgdXNlciBpcyB0aGUgR01cbiAgICovXG4gIF9yZW9yZGVyRHJhZ0Ryb3BMaXN0ZW5lcnMoaHRtbDogSlF1ZXJ5PGFueT4pIHtcbiAgICBsZXQgZHJhZ2dlZFRhYjogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgdGFiRWxlbWVudCA9IGh0bWwuZmluZCgnLmdtLXNjcmVlbi10YWJzJyk7XG5cbiAgICB0YWJFbGVtZW50Lm9uKCdkcmFnc3RhcnQnLCAnLml0ZW0nLCAoZSkgPT4ge1xuICAgICAgZHJhZ2dlZFRhYiA9IGUudGFyZ2V0O1xuICAgIH0pO1xuXG4gICAgdGFiRWxlbWVudC5vbignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgaWYgKCFkcmFnZ2VkVGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKCQoZS50YXJnZXQpLmNsb3Nlc3QoJy5nbS1zY3JlZW4tdGFicycpLmNoaWxkcmVuKCkpO1xuXG4gICAgICBpZiAoY2hpbGRyZW4uaW5kZXhPZihlLnRhcmdldCkgPiBjaGlsZHJlbi5pbmRleE9mKGRyYWdnZWRUYWIpKSB7XG4gICAgICAgIGUudGFyZ2V0LmFmdGVyKGRyYWdnZWRUYWIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS50YXJnZXQuYmVmb3JlKGRyYWdnZWRUYWIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGFiRWxlbWVudC5vbignZHJhZ2VuZCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBpZiAoIWRyYWdnZWRUYWIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdHcmlkcyA9IGZvdW5kcnkudXRpbHMuZGVlcENsb25lKEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmdyaWRzKTtcblxuICAgICAgLy8gcmVidWlsZCBnbVNjcmVlbkNvbmZpZyBiYXNlZCBvbiB0aGUgY3VycmVudCBsYXlvdXQgb2YgdGhlIHRhYnNcbiAgICAgICQoZS50YXJnZXQpXG4gICAgICAgIC5jbG9zZXN0KCcuZ20tc2NyZWVuLXRhYnMnKVxuICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBncmlkSWQgPSAkKGl0ZW0pLmF0dHIoJ2RhdGEtdGFiJyk7XG4gICAgICAgICAgaWYgKCFncmlkSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3R3JpZHNbZ3JpZElkXSA9IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmdyaWRzW2dyaWRJZF07XG4gICAgICAgIH0pO1xuXG4gICAgICBkcmFnZ2VkVGFiID0gdW5kZWZpbmVkO1xuICAgICAgYXdhaXQgZ2FtZS5zZXR0aW5ncy5zZXQoTU9EVUxFX0lELCBHbVNjcmVlbi5TRVRUSU5HUy5nbVNjcmVlbkNvbmZpZywge1xuICAgICAgICBhY3RpdmVHcmlkSWQ6IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFjdGl2ZUdtR3JpZElkLFxuICAgICAgICBncmlkczogbmV3R3JpZHMsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIENvbW1vbiBNb3VzZSBFdmVudHMgZm9yIGFsbCB0eXBlcyBvZiBnbSBzY3JlZW5cbiAgICovXG4gIGFzeW5jIGhhbmRsZUNsaWNrRXZlbnQoZTogSlF1ZXJ5LkNsaWNrRXZlbnQ8SFRNTEVsZW1lbnQsIHVuZGVmaW5lZCwgSFRNTEVsZW1lbnQsIEhUTUxFbGVtZW50Pikge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGFjdGlvbiA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmFjdGlvbiBhcyBDbGlja0FjdGlvbjtcbiAgICBjb25zdCBlbnRpdHlVdWlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnW2RhdGEtZW50aXR5LXV1aWRdJyk/LmRhdGEoKT8uZW50aXR5VXVpZDtcbiAgICBjb25zdCBlbnRyeUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnW2RhdGEtZW50cnktaWRdJyk/LmRhdGEoKT8uZW50cnlJZDtcblxuICAgIGxvZyhmYWxzZSwgJ2hhbmRsZUNsaWNrRXZlbnQnLCB7XG4gICAgICBlLFxuICAgICAgYWN0aW9uLFxuICAgIH0pO1xuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgQ2xpY2tBY3Rpb24uY2xlYXJDZWxsOiB7XG4gICAgICAgIGlmICghZW50cnlJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIEdtU2NyZWVuLmRhdGFNYW5hZ2VyLnJlbW92ZUVudHJ5RnJvbUFjdGl2ZUdyaWQoZW50cnlJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDbGlja0FjdGlvbi5jb25maWd1cmVDZWxsOiB7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbi5nZXRHcmlkRWxlbWVudHNQb3NpdGlvbigkKGUudGFyZ2V0KS5wYXJlbnQoKSk7XG4gICAgICAgIEdtU2NyZWVuQ2VsbC5fb25Db25maWd1cmVHcmlkRW50cnkoY29vcmRpbmF0ZXMsIGVudHJ5SWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgQ2xpY2tBY3Rpb24ub3Blbjoge1xuICAgICAgICBHbVNjcmVlbkNlbGwuX29uQ2xpY2tPcGVuKGVudGl0eVV1aWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgQ2xpY2tBY3Rpb24uc2V0QWN0aXZlR3JpZElkOiB7XG4gICAgICAgIGNvbnN0IG5ld0FjdGl2ZUdyaWRJZCA9IGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnRhYjtcbiAgICAgICAgYXdhaXQgR21TY3JlZW4uZGF0YU1hbmFnZXIuc2V0QWN0aXZlR21HcmlkSWQobmV3QWN0aXZlR3JpZElkKTtcbiAgICAgICAgLy8gdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDbGlja0FjdGlvbi5yb2xsdGFibGU6IHtcbiAgICAgICAgaWYgKCFlbnRpdHlVdWlkIHx8ICFlbnRyeUlkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VsbENsYXNzSW5zdGFuY2UgPSAoYXdhaXQgdGhpcy5nZXRDZWxsQXBwbGljYXRpb25DbGFzcyhlbnRpdHlVdWlkLCBlbnRyeUlkKSkgYXMgQ29tcGFjdFJvbGxUYWJsZURpc3BsYXk7XG4gICAgICAgIGF3YWl0IGNlbGxDbGFzc0luc3RhbmNlLl9yb2xsT25UYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIF9jYW5EcmFnRHJvcCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFnYW1lLnVzZXI/LmlzR007XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgZHJvcHBpbmcgb2YgYSBkb2N1bWVudCBvbnRvIGEgZ3JpZCBjZWxsXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgX29uRHJvcChldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBkbyBub3RoaW5nIGlmIHRoaXMgdXNlciBpcyBub3QgdGhlIGdtXG4gICAgaWYgKCFnYW1lLnVzZXI/LmlzR00pIHJldHVybjtcblxuICAgIC8vIHR5cGUgc2FmZXR5IGNoZWNrc1xuICAgIGlmICghZXZlbnQuY3VycmVudFRhcmdldCB8fCAhZXZlbnQudGFyZ2V0IHx8ICFldmVudC5kYXRhVHJhbnNmZXIpIHJldHVybjtcblxuICAgIC8vIFRyeSB0byBleHRyYWN0IHRoZSBkYXRhXG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZyhmYWxzZSwgJ29uRHJvcCcsIHtcbiAgICAgIGV2ZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGNsb3Nlc3RHcmlkQ2VsbDogJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuZ20tc2NyZWVuLWdyaWQtY2VsbCcpLFxuICAgIH0pO1xuXG4gICAgLy8gb25seSBtb3ZlIGZvcndhcmQgaWYgZHJvcHBlZCBlbnRyeSBpcyBvZiBhIHN1cHBvcnRlZCB0eXBlXG4gICAgaWYgKCFbJ0pvdXJuYWxFbnRyeScsICdKb3VybmFsRW50cnlQYWdlJywgJ1JvbGxUYWJsZScsICdJdGVtJywgJ0FjdG9yJ10uaW5jbHVkZXMoZGF0YS50eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVudGl0eVV1aWQgPSBkYXRhLnV1aWQ7XG5cbiAgICBjb25zdCBncmlkRWxlbWVudFBvc2l0aW9uID0gR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbi5nZXRHcmlkRWxlbWVudHNQb3NpdGlvbihcbiAgICAgICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcuZ20tc2NyZWVuLWdyaWQtY2VsbCcpLFxuICAgICk7XG4gICAgY29uc3QgbmV3RW50cnlJZCA9IGAke2dyaWRFbGVtZW50UG9zaXRpb24ueH0tJHtncmlkRWxlbWVudFBvc2l0aW9uLnl9YDtcblxuICAgIGNvbnN0IG5ld0VudHJ5OiBHbVNjcmVlbkdyaWRFbnRyeSA9IHtcbiAgICAgIC4uLmdyaWRFbGVtZW50UG9zaXRpb24sXG4gICAgICBlbnRyeUlkOiBuZXdFbnRyeUlkLFxuICAgICAgZW50aXR5VXVpZCxcbiAgICB9O1xuXG4gICAgR21TY3JlZW4uZGF0YU1hbmFnZXIuYWRkRW50cnlUb0FjdGl2ZUdyaWQobmV3RW50cnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluamVjdHMgY2VsbCBhcHBsaWNhdGlvbnMgZHVyaW5nIF9yZW5kZXJJbm5lcjtcbiAgICogSGFuZGxlcyBmaW5kaW5nIGFsbCBjZWxscyBpbiB0aGUgaHRtbCBhbmQgaW5qZWN0aW5nIHRoZWlyIHJpZ2h0ZnVsIGNvbnRlbnRzIGJhc2VkIG9uXG4gICAqIGRhdGEgYXR0cmlidXRlcyB3aGljaCBkZXRhaWwgdGhlIHV1aWQgb2YgdGhlIGRvY3VtZW50IHdpdGhpblxuICAgKi9cbiAgaW5qZWN0Q2VsbENvbnRlbnRzKGh0bWw6IEpRdWVyeTxIVE1MRWxlbWVudD4pIHtcbiAgICBjb25zdCBhbGxDZWxscyA9ICQoaHRtbCkuZmluZCgnW2RhdGEtZW50aXR5LXV1aWRdJyk7XG5cbiAgICBsb2coZmFsc2UsICdpbmplY3RDZWxsQ29udGVudHMnLCBhbGxDZWxscyk7XG5cbiAgICBhbGxDZWxscy5lYWNoKChpbmRleCwgZ3JpZEVudHJ5KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBgdGhpc2AgaXMgdGhlIHBhcmVudCAuZ20tc2NyZWVuLWdyaWQtY2VsbFxuICAgICAgICBjb25zdCByZWxldmFudFV1aWQgPSBncmlkRW50cnkuZGF0YXNldC5lbnRpdHlVdWlkO1xuICAgICAgICBpZiAoIXJlbGV2YW50VXVpZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjZWxsSWQgPSBgIyR7Z3JpZEVudHJ5LmlkfWA7XG5cbiAgICAgICAgbG9nKGZhbHNlLCAnZ3JpZEVudHJ5IHdpdGggdXVpZCBkZWZpbmVkIGZvdW5kJywgeyByZWxldmFudFV1aWQsIGNlbGxJZCwgZ3JpZEVudHJ5IH0pO1xuXG4gICAgICAgIHRoaXMuZ2V0Q2VsbEFwcGxpY2F0aW9uQ2xhc3MocmVsZXZhbnRVdWlkLCBjZWxsSWQpXG4gICAgICAgICAgLnRoZW4oKGFwcGxpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICBsb2coZmFsc2UsIGBnb3QgYXBwbGljYXRpb24gZm9yIFwiJHtjZWxsSWR9XCJgLCB7XG4gICAgICAgICAgICAgIGFwcGxpY2F0aW9uLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghYXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBhcHBsaWNhdGlvbiBleGlzdHMgdG8gcmVuZGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBhcHBsaWNhdGlvbi5vcHRpb25zLmNsYXNzZXMuam9pbignICcpO1xuXG4gICAgICAgICAgICBjb25zdCBncmlkQ2VsbENvbnRlbnQgPSAkKGdyaWRFbnRyeSkuZmluZCgnLmdtLXNjcmVlbi1ncmlkLWNlbGwtY29udGVudCcpO1xuICAgICAgICAgICAgZ3JpZENlbGxDb250ZW50LmFkZENsYXNzKGNsYXNzZXMpO1xuXG4gICAgICAgICAgICAvLyBhY3R1YWxseSByZW5kZXIgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICBhcHBsaWNhdGlvbi5yZW5kZXIodHJ1ZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGxvZyh0cnVlLCAnZXJyb3IgdHJ5aW5nIHRvIHJlbmRlciBhIGdyaWRFbnRyeScsIHtcbiAgICAgICAgICAgICAgZ3JpZEVudHJ5LFxuICAgICAgICAgICAgICBjZWxsSWQsXG4gICAgICAgICAgICAgIHJlbGV2YW50VXVpZCxcbiAgICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nKGZhbHNlLCAnZXJyb3JpbmcnLCBlLCB7XG4gICAgICAgICAgZ3JpZEVudHJ5LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUNTU1Byb3BlcnR5VmFyaWFibGUoaHRtbCwgJy5nbS1zY3JlZW4tZ3JpZC1jZWxsJywgJ3dpZHRoJywgJy0tdGhpcy1jZWxsLXdpZHRoJyk7XG5cbiAgICByZXR1cm4gaHRtbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGUgYW5kIGNhY2hlIHRoZSBjdXN0b20gQXBwbGljYXRpb24gd2hlbiB3ZSBuZWVkIHRvIGR1cmluZyBHbVNjcmVlbkFwcGxpY2F0aW9uLnJlbmRlcigpO1xuICAgKiBhbmQgdGhlbiB1c2UgdGhhdCBjYWNoZWQgQXBwbGljYXRpb24gaW5zdGFuY2UgdG8gcmVuZGVyXG4gICAqXG4gICAqIEBwYXJhbSBkb2N1bWVudFV1aWQgLSBJZGVudGlmaWVyIGZvciB0aGUgRW50aXR5IGluIHRoZSBjZWxsXG4gICAqIEBwYXJhbSBjZWxsSWQgLSBJZGVudGlmaWVyIGZvciB0aGUgQ2VsbFxuICAgKiBAcGFyYW0gZ3JpZENlbGxDb250ZW50RWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIGluamVjdCBpbnRvXG4gICAqIEByZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiB0aGUgZG9jdW1lbnQncyBzaGVldCB0byByZW5kZXJcbiAgICovXG4gIGFzeW5jIGdldENlbGxBcHBsaWNhdGlvbkNsYXNzKGRvY3VtZW50VXVpZDogc3RyaW5nLCBjZWxsSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHJlbGV2YW50RG9jdW1lbnQgPSBhd2FpdCBHbVNjcmVlbkRhdGFNYW5hZ2VyLmdldFJlbGV2YW50R21TY3JlZW5Eb2N1bWVudChkb2N1bWVudFV1aWQpO1xuXG4gICAgLy8gaWYgdGhlIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0LCAnY2xvc2UnIHRoZSBhcHBsaWNhdGlvbiBhbmQgZGVzdHJveSB0aGUgY2FjaGVkIGNvcHlcbiAgICBpZiAoIXJlbGV2YW50RG9jdW1lbnQpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXBwc1tjZWxsSWRdPy5jbG9zZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuYXBwc1tjZWxsSWRdO1xuXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdPbmUgb2YgdGhlIGdyaWQgY2VsbHMgdHJpZWQgdG8gcmVuZGVyIGEgZG9jdW1lbnQgdGhhdCBkb2VzIG5vdCBleGlzdC4gUGVyaGFwcyBpdCB3YXMgZGVsZXRlZCBvciBpcyBpbiBhIGNvbXBlbmRpdW0gbW9kdWxlIHRoYXQgaXMgbm90IGFjdGl2ZT8nLFxuICAgICAgICBkb2N1bWVudFV1aWQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIElmIHRoZXJlIGlzIGFuIG9sZCBhcHAgaW4gdGhpcyBjZWxsIHdoaWNoIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIGRvY3VtZW50LCAnY2xvc2UnIHRoYXQgYXBwbGljYXRpb24gYW5kIGRlc3Ryb3kgaXRzIGNhY2hlIGVudHJ5ICovXG4gICAgaWYgKHRoaXMuYXBwc1tjZWxsSWRdICYmIHRoaXMuYXBwc1tjZWxsSWRdPy5vYmplY3QudXVpZCAhPT0gZG9jdW1lbnRVdWlkKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcHNbY2VsbElkXS5jbG9zZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuYXBwc1tjZWxsSWRdO1xuICAgIH1cblxuICAgIC8vIGdldHMgdGhlIHJlbGV2YW50IGRvY3VtZW50J3MgR00gU2NyZWVuIFNoZWV0IGNsYXNzIGNvbnN0cnVjdG9yIGJhc2VkIG9uIGFueSBwcmVzZW50IG92ZXJyaWRlc1xuICAgIGNvbnN0IFNoZWV0Q2xhc3NDb25zdHJ1Y3RvciA9IChHbVNjcmVlbkNlbGwuX2dldEdyaWRFbnRyeVNoZWV0Q2xhc3MocmVsZXZhbnREb2N1bWVudCkgPz9cbiAgICAgIHJlbGV2YW50RG9jdW1lbnQuc2hlZXQ/LmNvbnN0cnVjdG9yKSBhcyBDb25zdHJ1Y3Rvck9mPERvY3VtZW50U2hlZXQ+IHwgdW5kZWZpbmVkO1xuXG4gICAgLyogSWYgdGhlIGN1cnJlbnRseSBjYWNoZWQgYXBwbGljYXRpb24gZG9lcyBub3QgbWF0Y2ggdGhlIHNoZWV0IGNsYXNzLCAnY2xvc2UnIHRoYXQgYXBwbGljYXRpb24gYW5kIGRlc3Ryb3kgaXRzIGNhY2hlIGVudHJ5ICovXG4gICAgaWYgKHRoaXMuYXBwc1tjZWxsSWRdICYmIHRoaXMuYXBwc1tjZWxsSWRdLmNvbnN0cnVjdG9yLm5hbWUgIT09IFNoZWV0Q2xhc3NDb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgYXdhaXQgdGhpcy5hcHBzW2NlbGxJZF0uY2xvc2UoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmFwcHNbY2VsbElkXTtcbiAgICB9XG5cbiAgICAvKiBJZiB0aGUgY3VycmVudGx5IGNhY2hlZCBhcHBsaWNhdGlvbiBkb2VzIG1hdGNoIHRoZSBleHBlY3RlZCBzaGVldCBjbGFzcywgcmV0dXJuIGl0ICovXG4gICAgaWYgKHRoaXMuYXBwc1tjZWxsSWRdICYmIHRoaXMuYXBwc1tjZWxsSWRdLmNvbnN0cnVjdG9yLm5hbWUgPT09IFNoZWV0Q2xhc3NDb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgbG9nKGZhbHNlLCBgdXNpbmcgY2FjaGVkIGFwcGxpY2F0aW9uIGluc3RhbmNlIGZvciBcIiR7cmVsZXZhbnREb2N1bWVudC5uYW1lfVwiYCwge1xuICAgICAgICBlbnRpdHlVdWlkOiBkb2N1bWVudFV1aWQsXG4gICAgICAgIGFwcDogdGhpcy5hcHBzW2NlbGxJZF0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXMuYXBwc1tjZWxsSWRdO1xuICAgIH1cblxuICAgIC8qKiBPdGhlcndpc2UsIHdlIG5lZWQgdG8gbWFrZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgc2hlZXQgY2xhc3MgcmV0cmlldmVkICovXG4gICAgbG9nKGZhbHNlLCAncmVsZXZhbnRFbnRpdHkgc2hlZXQnLCB7XG4gICAgICBzaGVldENsYXNzQ29uc3RydWN0b3I6IFNoZWV0Q2xhc3NDb25zdHJ1Y3RvcixcbiAgICAgIG5hbWU6IFNoZWV0Q2xhc3NDb25zdHJ1Y3Rvcj8ubmFtZSxcbiAgICB9KTtcblxuICAgIGlmICghU2hlZXRDbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjcmVhdGUgY2VsbCBhcHBsaWNhdGlvbiBhcyB0aGUgY29uc3RydWN0b3IgZG9lcyBub3QgZXhpc3QnKTtcbiAgICB9XG5cbiAgICAvLyAvLyBUT0RPOiBGSVhNRSBpbiBfZ2V0R21TY3JlZW5TaGVldENsYXNzXG4gICAgLy8gaWYgKFNoZWV0Q2xhc3NDb25zdHJ1Y3Rvci5uYW1lID09PSAnUm9sbFRhYmxlQ29uZmlnJykge1xuICAgIC8vICAgbG9nKGZhbHNlLCBgY3JlYXRpbmcgY29tcGFjdCByb2xsVGFibGVEaXNwbGF5IGZvciBcIiR7cmVsZXZhbnREb2N1bWVudC5uYW1lfVwiYCwge1xuICAgIC8vICAgICBjZWxsSWQsXG4gICAgLy8gICB9KTtcblxuICAgIC8vICAgdGhpcy5hcHBzW2NlbGxJZF0gPSBuZXcgQ29tcGFjdFJvbGxUYWJsZURpc3BsYXkocmVsZXZhbnREb2N1bWVudCwgeyBjZWxsSWQgfSk7XG4gICAgLy8gICByZXR1cm4gdGhpcy5hcHBzW2NlbGxJZF07XG4gICAgLy8gfVxuXG4gICAgbG9nKGZhbHNlLCBgY3JlYXRpbmcgY29tcGFjdCBnZW5lcmljIGZvciBcIiR7cmVsZXZhbnREb2N1bWVudC5uYW1lfVwiYCwge1xuICAgICAgY2VsbElkLFxuICAgIH0pO1xuXG4gICAgY29uc3QgQ29tcGFjdERvY3VtZW50U2hlZXQgPSBuZXcgU2hlZXRDbGFzc0NvbnN0cnVjdG9yKHJlbGV2YW50RG9jdW1lbnQsIHtcbiAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICB9KSBhcyBHbVNjcmVlbkFwcDtcblxuICAgIC8vIGFwcGx5IGFsbCB0aGUgcmlnaHQgb3ZlcnJpZGVzIHRvIHRoZSBzaGVldCBjbGFzcyBzbyBpdCByZW5kZXJzIGluc2lkZSB0aGUgZ3JpZFxuICAgIEdtU2NyZWVuQ2VsbC5hcHBseUdtU2NyZWVuQ2VsbFNoZWV0T3ZlcnJpZGVzKENvbXBhY3REb2N1bWVudFNoZWV0LCBjZWxsSWQpO1xuXG4gICAgbG9nKGZhbHNlLCBgY3JlYXRlZCBjb21wYWN0IGdlbmVyaWMgZm9yIFwiJHtyZWxldmFudERvY3VtZW50Lm5hbWV9XCJgLCB7XG4gICAgICBzaGVldDogQ29tcGFjdERvY3VtZW50U2hlZXQsXG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcHNbY2VsbElkXSA9IENvbXBhY3REb2N1bWVudFNoZWV0O1xuXG4gICAgcmV0dXJuIHRoaXMuYXBwc1tjZWxsSWRdO1xuICB9XG5cbiAgdG9nZ2xlR21TY3JlZW5WaXNpYmlsaXR5KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBHTSBTY3JlZW4gc3ViY2xhc3MgbXVzdCBpbXBsZW1lbWVudCB0aGlzIG1ldGhvZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGdpdmVuIGVsZW1lbnQncyBYL1kgY29vcmRpbmF0ZXMgaW4gdGhlIGdyaWRcbiAgICovXG4gIHN0YXRpYyBnZXRHcmlkRWxlbWVudHNQb3NpdGlvbihlbGVtZW50OiBKUXVlcnk8YW55Pikge1xuICAgIGNvbnN0IHJlbGV2YW50R3JpZEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudHMoJy5nbS1zY3JlZW4tZ3JpZCcpWzBdO1xuXG4gICAgY29uc3QgdmFuaWxsYUdyaWRFbGVtZW50U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocmVsZXZhbnRHcmlkRWxlbWVudCk7XG5cbiAgICBsb2coZmFsc2UsICdnZXRHcmlkRWxlbWVudHNQb3NpdGlvbicsIHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICByZWxldmFudEdyaWRFbGVtZW50LFxuICAgICAgdmFuaWxsYUdyaWRFbGVtZW50U3R5bGVzLFxuICAgICAgZ2FwOiB2YW5pbGxhR3JpZEVsZW1lbnRTdHlsZXMuZ2FwLCAvLyB3dGYgdGhpcyBpcyAnJyBpbiBmaXJlZm94XG4gICAgICBncmlkUm93R2FwOiB2YW5pbGxhR3JpZEVsZW1lbnRTdHlsZXMucm93R2FwLFxuICAgICAgZ3JpZENvbEdhcDogdmFuaWxsYUdyaWRFbGVtZW50U3R5bGVzLmNvbHVtbkdhcCxcbiAgICB9KTtcblxuICAgIGNvbnN0IG51bWJlclJlZ2V4ID0gLyhbKy1dPyg/PVxcLlxcZHxcXGQpKD86XFxkKyk/KD86XFwuP1xcZCopKSg/OltlRV0oWystXT9cXGQrKSk/LztcbiAgICBjb25zdCBnYXAgPSBOdW1iZXIodmFuaWxsYUdyaWRFbGVtZW50U3R5bGVzLnJvd0dhcC5tYXRjaChudW1iZXJSZWdleCk/LlswXSk7XG5cbiAgICAvL0dldCB0aGUgY3NzIGF0dHJpYnV0ZSBncmlkLXRlbXBsYXRlLWNvbHVtbnMgZnJvbSB0aGUgY3NzIG9mIGNsYXNzIGdyaWRcbiAgICAvL3NwbGl0IG9uIHdoaXRlc3BhY2UgYW5kIGdldCB0aGUgbGVuZ3RoLCB0aGlzIHdpbGwgZ2l2ZSB5b3UgdGhlIGNvbHVtbiBkaW1lbnNpb25zXG4gICAgY29uc3QgY29scyA9IHZhbmlsbGFHcmlkRWxlbWVudFN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zLnNwbGl0KCcgJyk7XG4gICAgY29uc3QgY29sV2lkdGggPSBOdW1iZXIoY29sc1swXS5tYXRjaChudW1iZXJSZWdleCk/LlswXSk7XG5cbiAgICAvL0dldCB0aGUgY3NzIGF0dHJpYnV0ZSBncmlkLXRlbXBsYXRlLXJvd3MgZnJvbSB0aGUgY3NzIG9mIGNsYXNzIGdyaWRcbiAgICAvL3NwbGl0IG9uIHdoaXRlc3BhY2UgYW5kIGdldCB0aGUgbGVuZ3RoLCB0aGlzIHdpbGwgZ2l2ZSB5b3UgdGhlIGNvbHVtbiBkaW1lbnNpb25zXG4gICAgY29uc3Qgcm93cyA9IHZhbmlsbGFHcmlkRWxlbWVudFN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzLnNwbGl0KCcgJyk7XG4gICAgY29uc3Qgcm93SGVpZ2h0ID0gTnVtYmVyKHJvd3NbMF0ubWF0Y2gobnVtYmVyUmVnZXgpPy5bMF0pO1xuXG4gICAgLy8gdG8gZmlndXJlIG91dCB3aGljaCBjb2x1bW4vcm93IHRoaXMgZWxlbWVudCBpcyBpbiB3aXRoaW4gdGhlIGdyaWRFbGVtZW50LCB3ZSBoYXZlIHRvIGRvIG1hdGhcbiAgICBjb25zdCBlbGVtZW50Qm91bmRzID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBncmlkQm91bmRzID0gcmVsZXZhbnRHcmlkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGNvbnN0IGVsZW1lbnRDb2x1bW4gPSBNYXRoLmZsb29yKChlbGVtZW50Qm91bmRzLmxlZnQgLSAoZ3JpZEJvdW5kcy5sZWZ0IC0gZ2FwKSkgLyAoY29sV2lkdGggKyBnYXApKSArIDE7XG5cbiAgICBjb25zdCBlbGVtZW50Um93ID0gTWF0aC5mbG9vcigoZWxlbWVudEJvdW5kcy50b3AgLSAoZ3JpZEJvdW5kcy50b3AgLSBnYXApKSAvIChyb3dIZWlnaHQgKyBnYXApKSArIDE7XG5cbiAgICBsb2coZmFsc2UsICdnZXRHcmlkRWxlbWVudHNQb3NpdGlvbicsIHtcbiAgICAgIHNldHVwOiB7XG4gICAgICAgIGdhcCxcbiAgICAgICAgY29scyxcbiAgICAgICAgcm93cyxcbiAgICAgICAgZWxlbWVudEJvdW5kcyxcbiAgICAgICAgZ3JpZEJvdW5kcyxcbiAgICAgICAgY29sV2lkdGgsXG4gICAgICAgIHJvd0hlaWdodCxcbiAgICAgIH0sXG4gICAgICByZXN1bHRzOiB7XG4gICAgICAgIGVsZW1lbnRDb2x1bW4sXG4gICAgICAgIGVsZW1lbnRSb3csXG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8vUmV0dXJuIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgcm93IGFuZCBjb2x1bW5cbiAgICByZXR1cm4geyB5OiBlbGVtZW50Um93LCB4OiBlbGVtZW50Q29sdW1uIH07XG4gIH1cbn1cblxuLyoqIEV4dGVuZHMgdGhlIGJhc2UgR00gU2NyZWVuIEFwcGxpY2F0aW9uIGZvciB0aGUgUG9wb3V0IENhc2UgKi9cbmV4cG9ydCBjbGFzcyBHbVNjcmVlbkFwcGxpY2F0aW9uUG9wb3V0IGV4dGVuZHMgR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbiB7XG4gIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKTogQXBwbGljYXRpb25PcHRpb25zIHtcbiAgICBjb25zdCB7IGNvbHVtbnMsIHJvd3MgfSA9IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFwcGxpY2F0aW9uRGF0YTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIGNsYXNzZXM6IFsnZ20tc2NyZWVuLXBvcE91dCddLFxuICAgICAgcG9wT3V0OiB0cnVlLFxuICAgICAgd2lkdGg6IE51bWJlcihjb2x1bW5zKSAqIDQwMCxcbiAgICAgIGhlaWdodDogTnVtYmVyKHJvd3MpICogMzAwLFxuICAgICAgcmVzaXphYmxlOiB0cnVlLFxuICAgICAgdGl0bGU6IGdhbWUuaTE4bi5sb2NhbGl6ZShgJHtNT0RVTEVfQUJCUkVWfS5nbVNjcmVlbi5UaXRsZWApLFxuICAgIH07XG4gIH1cblxuICAvKiogSGFuZGxlIHRvZ2dsaW5nIGdtIHNjcmVlbnMgKi9cbiAgdG9nZ2xlR21TY3JlZW5WaXNpYmlsaXR5KHNob3VsZE9wZW4gPSAhdGhpcy5yZW5kZXJlZCkge1xuICAgIGlmIChzaG91bGRPcGVuKSB7XG4gICAgICBpZiAoIXRoaXMucmVuZGVyZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJyaW5nVG9Ub3AoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNob3VsZE9wZW4pIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBvbiBvcGVuLCBjYWxsIE15SG9va3Mub3BlbkNsb3NlIHdpdGggaXNPcGVuOiB0cnVlIGFuZCB0aGUgYWN0aXZlIGdyaWQgZGV0YWlsc1xuICAgIEhvb2tzLmNhbGxBbGwoR21TY3JlZW4uSE9PS1Mub3BlbkNsb3NlLCB0aGlzLCB7XG4gICAgICBpc09wZW46IHRoaXMucmVuZGVyZWQsXG4gICAgICBhY3RpdmVHcmlkSWQ6IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFjdGl2ZUdtR3JpZElkLFxuICAgICAgYWN0aXZlR3JpZE5hbWU6IEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmFjdGl2ZUdtR3JpZD8ubmFtZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIF9nZXRIZWFkZXJCdXR0b25zKCkge1xuICAgIGNvbnN0IHN1cGVyQnV0dG9ucyA9IHN1cGVyLl9nZXRIZWFkZXJCdXR0b25zKCk7XG5cbiAgICBjb25zdCBnbUJ1dHRvbnMgPSBbXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoYCR7TU9EVUxFX0FCQlJFVn0uZ21TY3JlZW4uUmVzZXRgKSxcbiAgICAgICAgY2xhc3M6ICdjbGVhcicsXG4gICAgICAgIGljb246ICdmYXMgZmEtYmFuJyxcbiAgICAgICAgb25jbGljazogKCkgPT4gR21TY3JlZW4uZGF0YU1hbmFnZXIuY2xlYXJBY3RpdmVHcmlkKCksIC8vIFRPRE86IGB0aGlzLmFwcHMgPSB7fTtgID9cbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHJldHVybiBbXG4gICAgICAuLi4oZ2FtZS51c2VyPy5pc0dNID8gZ21CdXR0b25zIDogW10pLFxuICAgICAge1xuICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKGAke01PRFVMRV9BQkJSRVZ9LmdtU2NyZWVuLlJlZnJlc2hgKSxcbiAgICAgICAgY2xhc3M6ICdyZWZyZXNoJyxcbiAgICAgICAgaWNvbjogJ2ZhcyBmYS1zeW5jJyxcbiAgICAgICAgb25jbGljazogKCkgPT4gR21TY3JlZW4uZGF0YU1hbmFnZXIucmVmcmVzaC5iaW5kKHRoaXMpKCksXG4gICAgICB9LFxuICAgICAgLi4uc3VwZXJCdXR0b25zLFxuICAgIF07XG4gIH1cbn1cblxuLyoqIEV4dGVuZHMgdGhlIGJhc2UgR00gU2NyZWVuIEFwcGxpY2F0aW9uIGZvciB0aGUgRHJhd2VyIENhc2UgKi9cbmV4cG9ydCBjbGFzcyBHbVNjcmVlbkFwcGxpY2F0aW9uRHJhd2VyIGV4dGVuZHMgR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbiB7XG4gIGV4cGFuZGVkID0gZmFsc2U7XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpOiBBcHBsaWNhdGlvbk9wdGlvbnMge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIHBvcE91dDogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLmdldERhdGEoKSxcbiAgICAgIGV4cGFuZGVkOiB0aGlzLmV4cGFuZGVkLFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPID8/PyBTdGlsbCBuZWVkZWQgPz8/XG4gIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWw6IGFueSk6IHZvaWQge1xuICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xuXG4gICAgLy8gYnJpbmcgdG8gdG9wIG9uIGNsaWNrXG4gICAgJChodG1sKS5vbignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBsb2coZmFsc2UsICdidXR0b25zJywgZXZlbnQuYnV0dG9ucyk7XG4gICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PT0gMikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmJyaW5nVG9Ub3AoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIEdNIFNjcmVlbiBWaXNpYmlsaXR5LiBCeSBkZWZhdWx0IHdpbGwgdG9nZ2xlIHRoZSBjdXJyZW50IHN0YXRlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4cGFuZGVkXG4gICAqL1xuICB0b2dnbGVHbVNjcmVlblZpc2liaWxpdHkoZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZCkge1xuICAgIC8vIFRPRE86IEFsbG93IHRvZ2dsaW5nIG9wZW4gdG8gYSBzcGVjaWZpYyB0YWJcbiAgICAvLyBUT0RPOiBQcm92aWRlIEFQSSBmb3Igb3RoZXIgbW9kdWxlcyB0byBrbm93IHdoYXQgdGFicyBleGlzdFxuICAgIHRoaXMuZXhwYW5kZWQgPSBleHBhbmRlZDtcblxuICAgIGNvbnN0IGFjdGl2ZUdyaWREZXRhaWxzID0ge1xuICAgICAgYWN0aXZlR3JpZElkOiBHbVNjcmVlbi5kYXRhTWFuYWdlci5hY3RpdmVHbUdyaWRJZCxcbiAgICAgIGFjdGl2ZUdyaWROYW1lOiBHbVNjcmVlbi5kYXRhTWFuYWdlci5hY3RpdmVHbUdyaWQ/Lm5hbWUsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICB1aS53aW5kb3dzW3RoaXMuYXBwSWRdID0gdGhpczsgLy8gYWRkIG91ciB3aW5kb3cgdG8gdGhlIHN0YWNrLCBwcmV0ZW5kaW5nIHdlIGFyZSBhbiBvcGVuIEFwcGxpY2F0aW9uXG5cbiAgICAgIHRoaXMuYnJpbmdUb1RvcCgpO1xuXG4gICAgICAkKCcuZ20tc2NyZWVuLWFwcCcpLmFkZENsYXNzKCdleHBhbmRlZCcpO1xuXG4gICAgICAvLyBvbiBvcGVuLCBjYWxsIE15SG9va3Mub3BlbkNsb3NlIHdpdGggaXNPcGVuOiB0cnVlIGFuZCB0aGUgYWN0aXZlIGdyaWQgZGV0YWlsc1xuICAgICAgSG9va3MuY2FsbEFsbChHbVNjcmVlbi5IT09LUy5vcGVuQ2xvc2UsIHRoaXMsIHtcbiAgICAgICAgaXNPcGVuOiB0cnVlLFxuICAgICAgICAuLi5hY3RpdmVHcmlkRGV0YWlscyxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZ20tc2NyZWVuLWFwcCcpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgZGVsZXRlIHVpLndpbmRvd3NbdGhpcy5hcHBJZF07IC8vIHJlbW92ZSBvdXIgd2luZG93IHRvIHRoZSBzdGFjaywgcHJldGVuZGluZyB3ZSBhcmUgYSBjbG9zZWQgQXBwbGljYXRpb25cblxuICAgICAgLy8gb24gb3BlbiwgY2FsbCBNeUhvb2tzLm9wZW5DbG9zZSB3aXRoIGlzT3BlbjogZmFsc2UgYW5kIHRoZSBhY3RpdmUgZ3JpZCBkZXRhaWxzXG4gICAgICBIb29rcy5jYWxsQWxsKEdtU2NyZWVuLkhPT0tTLm9wZW5DbG9zZSwgdGhpcywge1xuICAgICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgICAuLi5hY3RpdmVHcmlkRGV0YWlscyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUNsaWNrRXZlbnQoZTogSlF1ZXJ5LkNsaWNrRXZlbnQ8SFRNTEVsZW1lbnQsIHVuZGVmaW5lZCwgSFRNTEVsZW1lbnQsIEhUTUxFbGVtZW50Pikge1xuICAgIHN1cGVyLmhhbmRsZUNsaWNrRXZlbnQoZSk7XG5cbiAgICBjb25zdCBhY3Rpb24gPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb24gYXMgQ2xpY2tBY3Rpb247XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgQ2xpY2tBY3Rpb24uY2xlYXJHcmlkOiB7XG4gICAgICAgIEdtU2NyZWVuLmRhdGFNYW5hZ2VyLmNsZWFyQWN0aXZlR3JpZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgQ2xpY2tBY3Rpb24ucmVmcmVzaDoge1xuICAgICAgICBHbVNjcmVlbi5kYXRhTWFuYWdlci5yZWZyZXNoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDbGlja0FjdGlvblsndG9nZ2xlLWdtLXNjcmVlbiddOiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy50b2dnbGVHbVNjcmVlblZpc2liaWxpdHkoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBsb2codHJ1ZSwgJ2Vycm9yIHRvZ2dsaW5nIEdNIFNjcmVlbicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEdtU2NyZWVuQXBpLCBHbVNjcmVlblNldHRpbmdzRGF0YSwgTXlGbGFncywgTXlIb29rcywgTXlTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IGRlYm91bmNlZFJlbG9hZCwgbG9nIH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgeyBHbVNjcmVlblNldHRpbmdzQ29uZmlnIH0gZnJvbSAnLi9HbVNjcmVlblNldHRpbmdzQ29uZmlnJztcbmltcG9ydCB7IGRlZmF1bHRHbVNjcmVlbkRhdGEsIEdtU2NyZWVuRGF0YU1hbmFnZXIgfSBmcm9tICcuL0dtU2NyZWVuRGF0YSc7XG5pbXBvcnQgeyBHbVNjcmVlbkFwcGxpY2F0aW9uQ29tbW9uLCBHbVNjcmVlbkFwcGxpY2F0aW9uRHJhd2VyLCBHbVNjcmVlbkFwcGxpY2F0aW9uUG9wb3V0IH0gZnJvbSAnLi9HbVNjcmVlbkFwcGxpY2F0aW9uJztcbmltcG9ydCB7IE1PRFVMRV9JRCwgTU9EVUxFX0FCQlJFViB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBHbVNjcmVlbiB7XG4gIHN0YXRpYyBfZGF0YU1hbmFnZXI/OiBHbVNjcmVlbkRhdGFNYW5hZ2VyO1xuICBzdGF0aWMgX2dtU2NyZWVuQXBwPzogR21TY3JlZW5BcHBsaWNhdGlvbkNvbW1vbjtcblxuICBzdGF0aWMgVEVNUExBVEVTID0ge1xuICAgIHNldHRpbmdzOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3NldHRpbmdzLmhic2AsXG4gICAgc2NyZWVuOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3NjcmVlbi5oYnNgLFxuICAgIHNjcmVlbkNlbGw6IGBtb2R1bGVzLyR7TU9EVUxFX0lEfS90ZW1wbGF0ZXMvcGFydHMvc2NyZWVuLWNlbGwuaGJzYCxcbiAgICBzY3JlZW5HcmlkOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3BhcnRzL3NjcmVlbi1ncmlkLmhic2AsXG4gICAgY29tcGFjdFJvbGxUYWJsZTogYG1vZHVsZXMvJHtNT0RVTEVfSUR9L3RlbXBsYXRlcy9wYXJ0cy9jb21wYWN0LXJvbGwtdGFibGUuaGJzYCxcbiAgICBjb21wYWN0Sm91cm5hbEVudHJ5OiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3BhcnRzL2NvbXBhY3Qtam91cm5hbC1lbnRyeS5oYnNgLFxuICAgIGVudGl0eVNoZWV0SW5qZWN0aW9uOiBgbW9kdWxlcy8ke01PRFVMRV9JRH0vdGVtcGxhdGVzL3BhcnRzL2VudGl0eS1zaGVldC1pbmplY3Rpb24uaGJzYCxcbiAgICBncmlkczoge1xuICAgICAgdGFibGVSb3c6IGBtb2R1bGVzLyR7TU9EVUxFX0lEfS90ZW1wbGF0ZXMvcGFydHMvc2V0dGluZ3MtZ3JpZC1jb25maWctdGFibGUtcm93Lmhic2AsXG4gICAgfSxcbiAgfTtcblxuICBzdGF0aWMgSE9PS1MgPSBNeUhvb2tzO1xuXG4gIHN0YXRpYyBTRVRUSU5HUyA9IE15U2V0dGluZ3M7XG5cbiAgc3RhdGljIEZMQUdTID0gTXlGbGFncztcblxuICAvKipcbiAgICogaGFuZGxlIHRoZSBpbml0IGhvb2tcbiAgICogUmVnaXN0ZXIgYWxsIHNldHRpbmdzIG5lZWRlZCBmb3IgR00gU2NyZWVuIEluaXRpYWxpemF0aW9uXG4gICAqICovXG4gIHN0YXRpYyBpbml0KCkge1xuICAgIHRoaXMucmVnaXN0ZXJTZXR0aW5ncygpO1xuICAgIHRoaXMucHJlbG9hZFRlbXBsYXRlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBSZWFkeSBob29rXG4gICAqIFJlbmRlciB0aGUgZHJhd2VyIG1vZGUgc2NyZWVuXG4gICAqIHB1dCB0aGUgbW9kdWxlIGFwaSBpbnRvIHRoZSBtb2R1bGVkYXRhXG4gICAqL1xuICBzdGF0aWMgcmVhZHkoKSB7XG4gICAgLy8gRG8gYW55dGhpbmcgb25jZSB0aGUgbW9kdWxlIGlzIHJlYWR5XG4gICAgaWYgKHRoaXMuZGF0YU1hbmFnZXIuZHJhd2VyTW9kZSkge1xuICAgICAgbG9nKGZhbHNlLCAncmVhZHlpbmcnLCB7IGRyYXdlck1vZGU6IHRoaXMuZGF0YU1hbmFnZXIuZHJhd2VyTW9kZSwgYXBwOiB0aGlzLmdtU2NyZWVuQXBwIH0pO1xuICAgICAgdGhpcy5nbVNjcmVlbkFwcC5yZW5kZXIodHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZ21TY3JlZW5Nb2R1bGVEYXRhID0gZ2FtZS5tb2R1bGVzLmdldChNT0RVTEVfSUQpO1xuXG4gICAgaWYgKGdtU2NyZWVuTW9kdWxlRGF0YSkge1xuICAgICAgZ21TY3JlZW5Nb2R1bGVEYXRhLmFwaSA9IHRoaXMuZ21TY3JlZW5BcGk7XG4gICAgfVxuXG4gICAgaWYgKGdhbWUudXNlcj8uaXNHTSkge1xuICAgICAgZ2FtZS5zZXR0aW5ncy5zZXQoTU9EVUxFX0lELCB0aGlzLlNFVFRJTkdTLnJlc2V0LCBmYWxzZSk7XG4gICAgfVxuICAgIEhvb2tzLmNhbGxBbGwodGhpcy5IT09LUy5yZWFkeSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG9yIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBHbVNjcmVlbkRhdGFNYW5hZ2VyIGFuZCBjYWNoZSBpdFxuICAgKi9cbiAgc3RhdGljIGdldCBkYXRhTWFuYWdlcigpIHtcbiAgICBpZiAoIXRoaXMuX2RhdGFNYW5hZ2VyKSB7XG4gICAgICB0aGlzLl9kYXRhTWFuYWdlciA9IG5ldyBHbVNjcmVlbkRhdGFNYW5hZ2VyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2RhdGFNYW5hZ2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvciBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgR21TY3JlZW5EYXRhTWFuYWdlciBhbmQgY2FjaGUgaXRcbiAgICovXG4gIHN0YXRpYyBnZXQgZ21TY3JlZW5BcHAoKSB7XG4gICAgLy8gVE9PRDogSXMgdGhpcyB0aGUgYmVzdCBwbGF5IHdpdGggYSBkcmF3ZXItbW9kZSBzZXR0aW5nIHRoYXQgY2FuIGNoYW5nZT9cbiAgICBpZiAoIXRoaXMuX2dtU2NyZWVuQXBwKSB7XG4gICAgICB0aGlzLl9nbVNjcmVlbkFwcCA9IHRoaXMuZGF0YU1hbmFnZXIuZHJhd2VyTW9kZVxuICAgICAgICA/IG5ldyBHbVNjcmVlbkFwcGxpY2F0aW9uRHJhd2VyKClcbiAgICAgICAgOiBuZXcgR21TY3JlZW5BcHBsaWNhdGlvblBvcG91dCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9nbVNjcmVlbkFwcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHB1YmxpYyBhcGkgZm9yIHRoZSBnbSBzY3JlZW5cbiAgICovXG4gIHN0YXRpYyBnZXQgZ21TY3JlZW5BcGkoKTogR21TY3JlZW5BcGkge1xuICAgIHJldHVybiB7XG4gICAgICB0b2dnbGVHbVNjcmVlblZpc2liaWxpdHk6IHRoaXMuZ21TY3JlZW5BcHAudG9nZ2xlR21TY3JlZW5WaXNpYmlsaXR5LFxuICAgICAgcmVmcmVzaEdtU2NyZWVuOiB0aGlzLmRhdGFNYW5hZ2VyLnJlZnJlc2gsXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBBc3luY2hyb25vdXNseSBwcmVsb2FkIHRlbXBsYXRlcyAqL1xuICBzdGF0aWMgYXN5bmMgcHJlbG9hZFRlbXBsYXRlcygpIHtcbiAgICByZXR1cm4gbG9hZFRlbXBsYXRlcyhPYmplY3QudmFsdWVzKGZsYXR0ZW5PYmplY3QodGhpcy5URU1QTEFURVMpKSk7XG4gIH1cblxuICAvKiogUmVnaXN0ZXIgYWxsIHNldHRpbmdzIG5lZWRlZCBmb3IgR00gU2NyZWVuIEluaXRpYWxpemF0aW9uICovXG4gIHN0YXRpYyByZWdpc3RlclNldHRpbmdzKCkge1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXJNZW51KE1PRFVMRV9JRCwgJ21lbnUnLCB7XG4gICAgICBuYW1lOiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MuZ21TY3JlZW5Db25maWd9Lk5hbWVgLFxuICAgICAgbGFiZWw6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5nbVNjcmVlbkNvbmZpZ30uTGFiZWxgLFxuICAgICAgaWNvbjogJ2ZhcyBmYS10YWJsZScsXG4gICAgICB0eXBlOiBHbVNjcmVlblNldHRpbmdzQ29uZmlnLFxuICAgICAgcmVzdHJpY3RlZDogdHJ1ZSxcbiAgICAgIGhpbnQ6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5nbVNjcmVlbkNvbmZpZ30uSGludGAsXG4gICAgfSk7XG5cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKE1PRFVMRV9JRCwgdGhpcy5TRVRUSU5HUy5nbVNjcmVlbkNvbmZpZywge1xuICAgICAgZGVmYXVsdDogZGVmYXVsdEdtU2NyZWVuRGF0YSxcbiAgICAgIHR5cGU6IGRlZmF1bHRHbVNjcmVlbkRhdGEuY29uc3RydWN0b3IgYXMgQ29uc3RydWN0b3JPZjxHbVNjcmVlblNldHRpbmdzRGF0YT4sXG4gICAgICBzY29wZTogJ3dvcmxkJyxcbiAgICAgIGNvbmZpZzogZmFsc2UsXG4gICAgICBvbkNoYW5nZTogKCkgPT4ge1xuICAgICAgICBnYW1lLm1vZHVsZXMuZ2V0KE1PRFVMRV9JRCk/LmFwaT8ucmVmcmVzaEdtU2NyZWVuKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MubWlncmF0ZWQsIHtcbiAgICAgIGNvbmZpZzogZmFsc2UsXG4gICAgICBkZWZhdWx0OiB7IHN0YXR1czogZmFsc2UsIHZlcnNpb246ICcxLjIuMicgfSxcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgdHlwZTogT2JqZWN0IGFzIHVua25vd24gYXMgQ29uc3RydWN0b3JPZjx7IHN0YXR1czogYm9vbGVhbjsgdmVyc2lvbjogc3RyaW5nIH0+LFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MuY29sdW1ucywge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmNvbHVtbnN9Lk5hbWVgLFxuICAgICAgZGVmYXVsdDogNCxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgaGludDogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmNvbHVtbnN9LkhpbnRgLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1Mucm93cywge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLnJvd3N9Lk5hbWVgLFxuICAgICAgZGVmYXVsdDogMyxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgaGludDogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLnJvd3N9LkhpbnRgLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MuZGlzcGxheURyYXdlciwge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmRpc3BsYXlEcmF3ZXJ9Lk5hbWVgLFxuICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBoaW50OiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MuZGlzcGxheURyYXdlcn0uSGludGAsXG4gICAgICBvbkNoYW5nZTogZGVib3VuY2VkUmVsb2FkLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MucmlnaHRNYXJnaW4sIHtcbiAgICAgIG5hbWU6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5yaWdodE1hcmdpbn0uTmFtZWAsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgc2NvcGU6ICdjbGllbnQnLFxuICAgICAgcmFuZ2U6IHsgbWluOiAwLCBtYXg6IDc1LCBzdGVwOiA1IH0sXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBoaW50OiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MucmlnaHRNYXJnaW59LkhpbnRgLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MuZHJhd2VyV2lkdGgsIHtcbiAgICAgIG5hbWU6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5kcmF3ZXJXaWR0aH0uTmFtZWAsXG4gICAgICBkZWZhdWx0OiAxMDAsXG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgICByYW5nZTogeyBtaW46IDI1LCBtYXg6IDEwMCwgc3RlcDogMSB9LFxuICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgaGludDogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmRyYXdlcldpZHRofS5IaW50YCxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoTU9EVUxFX0lELCB0aGlzLlNFVFRJTkdTLmRyYXdlckhlaWdodCwge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmRyYXdlckhlaWdodH0uTmFtZWAsXG4gICAgICBkZWZhdWx0OiA2MCxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICAgIHJhbmdlOiB7IG1pbjogMTAsIG1heDogOTAsIHN0ZXA6IDEgfSxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGhpbnQ6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5kcmF3ZXJIZWlnaHR9LkhpbnRgLFxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MuZHJhd2VyT3BhY2l0eSwge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmRyYXdlck9wYWNpdHl9Lk5hbWVgLFxuICAgICAgZGVmYXVsdDogMSxcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHNjb3BlOiAnY2xpZW50JyxcbiAgICAgIHJhbmdlOiB7IG1pbjogMC4xLCBtYXg6IDEsIHN0ZXA6IDAuMDUgfSxcbiAgICAgIGNvbmZpZzogdHJ1ZSxcbiAgICAgIGhpbnQ6IGAke01PRFVMRV9BQkJSRVZ9LnNldHRpbmdzLiR7dGhpcy5TRVRUSU5HUy5kcmF3ZXJPcGFjaXR5fS5IaW50YCxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoTU9EVUxFX0lELCB0aGlzLlNFVFRJTkdTLmNvbmRlbnNlZEJ1dHRvbiwge1xuICAgICAgbmFtZTogYCR7TU9EVUxFX0FCQlJFVn0uc2V0dGluZ3MuJHt0aGlzLlNFVFRJTkdTLmNvbmRlbnNlZEJ1dHRvbn0uTmFtZWAsXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBzY29wZTogJ2NsaWVudCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBoaW50OiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MuY29uZGVuc2VkQnV0dG9ufS5IaW50YCxcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoTU9EVUxFX0lELCB0aGlzLlNFVFRJTkdTLnJlc2V0LCB7XG4gICAgICBuYW1lOiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MucmVzZXR9Lk5hbWVgLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICBjb25maWc6IHRydWUsXG4gICAgICBoaW50OiBgJHtNT0RVTEVfQUJCUkVWfS5zZXR0aW5ncy4ke3RoaXMuU0VUVElOR1MucmVzZXR9LkhpbnRgLFxuICAgICAgb25DaGFuZ2U6IChzZWxlY3RlZCkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICBnYW1lLnNldHRpbmdzLnNldChNT0RVTEVfSUQsIHRoaXMuU0VUVElOR1MuZ21TY3JlZW5Db25maWcsIGRlZmF1bHRHbVNjcmVlbkRhdGEpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHbVNjcmVlbiB9IGZyb20gJy4vY2xhc3Nlcy9HbVNjcmVlbic7XG5pbXBvcnQgeyBNT0RVTEVfQUJCUkVWLCBNT0RVTEVfSUQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG4vLyBJbml0aWFsaXplIG1vZHVsZVxuSG9va3Mub25jZSgnaW5pdCcsIGFzeW5jICgpID0+IHtcbiAgY29uc29sZS5sb2coJ2dtLXNjcmVlbiB8IEluaXRpYWxpemluZyBHTSBTY3JlZW4nKTtcblxuICBHbVNjcmVlbi5pbml0KCk7XG59KTtcblxuLy8gV2hlbiByZWFkeVxuSG9va3Mub25jZSgncmVhZHknLCBhc3luYyAoKSA9PiB7XG4gIEdtU2NyZWVuLnJlYWR5KCk7XG59KTtcblxuSG9va3Mub25jZSgnZGV2TW9kZVJlYWR5JywgKHsgcmVnaXN0ZXJQYWNrYWdlRGVidWdGbGFnIH0pID0+IHtcbiAgcmVnaXN0ZXJQYWNrYWdlRGVidWdGbGFnKE1PRFVMRV9JRCk7XG59KTtcblxuLyogRW50aXR5IFNoZWV0IE92ZXJyaWRlICovXG5cbkhvb2tzLm9uKCdyZW5kZXJEb2N1bWVudFNoZWV0Q29uZmlnJywgYXN5bmMgKGFwcDogYW55LCBodG1sOiBhbnksIGRhdGE6IGFueSkgPT4ge1xuICBpZiAoIWdhbWUudXNlcj8uaXNHTSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGh0bWxUb0luamVjdCA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKEdtU2NyZWVuLlRFTVBMQVRFU1snZW50aXR5U2hlZXRJbmplY3Rpb24nXSwge1xuICAgIC4uLmRhdGEsXG4gICAgZ21TY3JlZW5TaGVldENsYXNzOiBhcHAub2JqZWN0LmdldEZsYWcoTU9EVUxFX0lELCAnZ21TY3JlZW5TaGVldENsYXNzJyksXG4gIH0pO1xuXG4gIGxvZyhmYWxzZSwgJ3JlbmRlcmluZyBlbnRpdHkgc2hlZXQgY29uZmlnJywge1xuICAgIGh0bWxUb0luamVjdCxcbiAgICB0YXJnZXQ6IGh0bWwuZmluZCgnW25hbWU9c3VibWl0XScpLFxuICAgIGN1cnJlbnQ6IGFwcC5vYmplY3QuZ2V0RmxhZyhNT0RVTEVfSUQsICdnbVNjcmVlblNoZWV0Q2xhc3MnKSxcbiAgfSk7XG5cbiAgaHRtbC5maW5kKCdbbmFtZT1zdWJtaXRdJykuYmVmb3JlKGh0bWxUb0luamVjdCk7XG5cbiAgaHRtbC5vbignY2hhbmdlJywgJ3NlbGVjdFtuYW1lPWdtU2NyZWVuU2hlZXRDbGFzc10nLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIGxvZyhmYWxzZSwgJ2N1c3RvbSBjaGFuZ2UgbGlzdGVuZXIgZmlyaW5nJywge1xuICAgICAgZXZlbnQsXG4gICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgIH0pO1xuICAgIGFwcC5vYmplY3Quc2V0RmxhZyhNT0RVTEVfSUQsICdnbVNjcmVlblNoZWV0Q2xhc3MnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9KTtcblxuICBhcHAuc2V0UG9zaXRpb24oeyBoZWlnaHQ6ICdhdXRvJyB9KTtcbn0pO1xuXG4vKipcbiAqIEhhY2t5IHdheSB0byBlbnN1cmUgb3VyIGRyYXdlciBzdGF5cyBpbiB0aGUgcmlnaHQgcGxhY2UgYXMgdGhlIHNpZGViYXIgY29sbGFwc2VzIGFuZCB1bmNvbGxhcHNlc1xuICovXG5Ib29rcy5vbignY29sbGFwc2VTaWRlYmFyJywgKCkgPT4ge1xuICBjb25zdCB1aVJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VpLXJpZ2h0Jyk7XG4gIGlmICghdWlSaWdodCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHVpUmlnaHRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHVpUmlnaHQpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKT8uc3R5bGUuc2V0UHJvcGVydHkoJy0tZ20tc2NyZWVuLXVpLXJpZ2h0LXdpZHRoJywgdWlSaWdodFN0eWxlcy53aWR0aCk7XG59KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8vIEhBTkRMRUJBUlMgSEVMUEVSU1xuXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKGAke01PRFVMRV9BQkJSRVZ9LXBhdGhgLCAocmVsYXRpdmVQYXRoOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGBtb2R1bGVzLyR7TU9EVUxFX0lEfS8ke3JlbGF0aXZlUGF0aH1gO1xufSk7XG5cbi8qXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MzM5ODQwOC9zd2l0Y2gtY2FzZS13aXRoLWRlZmF1bHQtaW4taGFuZGxlYmFycy1qc1xuICoge3sjc3dpdGNoICdhJ319XG4gKiAgIHt7I2Nhc2UgJ2EnfX0gQSB7ey9jYXNlfX1cbiAqICAge3sjY2FzZSAnYid9fSBCIHt7L2Nhc2V9fVxuICoge3svc3dpdGNofX1cbiAqL1xuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihgJHtNT0RVTEVfQUJCUkVWfS1zd2l0Y2hgLCBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgLy9AdHMtZXhwZWN0LWVycm9yIGhhbmRsZWJhcnMgdGhpbmdzXG4gIHRoaXMuc3dpdGNoX3ZhbHVlID0gdmFsdWU7XG4gIC8vQHRzLWV4cGVjdC1lcnJvciBoYW5kbGViYXJzIHRoaW5nc1xuICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbn0pO1xuXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKGAke01PRFVMRV9BQkJSRVZ9LWNhc2VgLCBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgLy9AdHMtZXhwZWN0LWVycm9yIGhhbmRsZWJhcnMgdGhpbmdzXG4gIGlmICh2YWx1ZSA9PSB0aGlzLnN3aXRjaF92YWx1ZSkge1xuICAgIC8vQHRzLWV4cGVjdC1lcnJvciBoYW5kbGViYXJzIHRoaW5nc1xuICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICB9XG59KTtcblxuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihgJHtNT0RVTEVfQUJCUkVWfS1lbnJpY2hgLCBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBUZXh0RWRpdG9yLmVucmljaEhUTUwoc3RyKTtcbn0pO1xuIl0sIm5hbWVzIjpbIk15U2V0dGluZ3MiLCJNeUhvb2tzIl0sIm1hcHBpbmdzIjoiQUE0QkEsSUFBWUEsWUFZWCxDQUFBO0FBWkQsQ0FBQSxVQUFZLFVBQVUsRUFBQTtBQUNwQixJQUFBLFVBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxTQUFtQixDQUFBO0FBQ25CLElBQUEsVUFBQSxDQUFBLGVBQUEsQ0FBQSxHQUFBLG1CQUFtQyxDQUFBO0FBQ25DLElBQUEsVUFBQSxDQUFBLGNBQUEsQ0FBQSxHQUFBLGVBQThCLENBQUE7QUFDOUIsSUFBQSxVQUFBLENBQUEsZUFBQSxDQUFBLEdBQUEsZ0JBQWdDLENBQUE7QUFDaEMsSUFBQSxVQUFBLENBQUEsYUFBQSxDQUFBLEdBQUEsY0FBNEIsQ0FBQTtBQUM1QixJQUFBLFVBQUEsQ0FBQSxnQkFBQSxDQUFBLEdBQUEsa0JBQW1DLENBQUE7QUFDbkMsSUFBQSxVQUFBLENBQUEsVUFBQSxD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"}